local _S={
    keypress    =type(keypress)=="function"            and keypress            or false,
    mouse1click =type(mouse1click)=="function"          and mouse1click          or false,
    fireprox    =type(fireproximityprompt)=="function"  and fireproximityprompt  or false,
    fireclick   =type(fireclickdetector)=="function"    and fireclickdetector    or false,
    writefile   =type(writefile)=="function"            and writefile            or false,
    readfile    =type(readfile)=="function"             and readfile             or false,
}
local function sCall(fn,...) if fn then return pcall(fn,...) end return false end

if not task then
    task={wait=function(t)return wait(t or 0)end,spawn=function(f,...)return spawn(f,...)end,
          delay=function(t,f)return delay(t,f)end,defer=function(f)return spawn(f)end}
end

local Players         = game:GetService("Players")
local RunService      = game:GetService("RunService")
local UIS             = game:GetService("UserInputService")
local TweenService    = game:GetService("TweenService")
local HttpService     = game:GetService("HttpService")
local TeleportService = game:GetService("TeleportService")
local Lighting        = game:GetService("Lighting")
local Debris          = game:GetService("Debris")
local Camera          = workspace.CurrentCamera
local LP              = Players.LocalPlayer
local Mouse           = LP:GetMouse()
local IsMobile        = UIS.TouchEnabled and not UIS.KeyboardEnabled

local function GetVP()
    local vp=Camera.ViewportSize
    return vp.X,vp.Y
end
local SW,SH=GetVP()

local function S(n)
    local vx,vy=GetVP()
    local sx=math.clamp(vx/1280,0.45,2.0)
    local sy=math.clamp(vy/720, 0.45,2.0)
    return math.floor(n*math.min(sx,sy))
end

Camera:GetPropertyChangedSignal("ViewportSize"):Connect(function()
    SW,SH=GetVP()
end)

local CFG_FILE="PelmenPVP_cfg.json"
local DEFAULT={
    Speed={On=false,Value=32}, InfJump={On=false,Power=50},
    Fling={On=false,Power=300,Range=25},
    AntiRag={On=false}, ShiftLock={On=false}, Spam={On=false,Delay=7},
    ServLag={On=false,Threads=50}, Fly={On=false,Speed=5},
    FastCollect={On=false,Rate=5},
    AntiLag={On=false},
    -- v2.1 Spider v1 = AntiAC + AntiTP unified
    Spider={On=false,Threshold=40},
    -- v2.0
    ESP={On=false,MaxDist=200,Names=true,Dist=true,Health=true,Box=true},
    Fullbright={On=false},
}
local function DeepCopy(t)
    local c={} for k,v in pairs(t) do c[k]=type(v)=="table" and DeepCopy(v) or v end return c
end
local function MergeCfg(base,saved)
    if type(saved)~="table" then return DeepCopy(base) end
    local m=DeepCopy(base)
    for k,v in pairs(saved) do if type(v)=="table" and type(m[k])=="table" then
        for kk,vv in pairs(v) do if m[k][kk]~=nil then m[k][kk]=vv end end
    end end return m
end
local function LoadCfg()
    if _S.readfile then
        local ok,raw=sCall(_S.readfile,CFG_FILE)
        if ok and raw and #raw>2 then
            local ok2,p=pcall(HttpService.JSONDecode,HttpService,raw)
            if ok2 and p then return MergeCfg(DEFAULT,p) end
        end
    end
    return DeepCopy(DEFAULT)
end
local function SaveCfg(cfg)
    if _S.writefile then
        local ok,json=pcall(HttpService.JSONEncode,HttpService,cfg)
        if ok then sCall(_S.writefile,CFG_FILE,json) end
    end
end
local Cfg=LoadCfg()
-- ĞŸÑ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ ÑĞ±Ñ€Ğ°ÑÑ‹Ğ²Ğ°ĞµĞ¼ Ğ²ÑĞµ Ñ„ÑƒĞ½ĞºÑ†Ğ¸Ğ¸ Ğ¿Ñ€Ğ¸ ÑÑ‚Ğ°Ñ€Ñ‚Ğµ (Ğ²ÑĞµĞ³Ğ´Ğ° Ğ²Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹)
for _,v in pairs(Cfg) do
    if type(v)=="table" and v.On~=nil then v.On=false end
end
local _saveT=0
local function ScheduleSave() _saveT=tick() end

-- â”€â”€ Base64 â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local _b64chars='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
local function B64Enc(data)
    return (data:gsub('.',function(x)
        local r,b='',x:byte()
        for i=8,1,-1 do r=r..(b%2^i-b%2^(i-1)>0 and '1' or '0') end
        return r
    end)..'0000'):gsub('%d%d%d%d%d%d',function(x)
        if #x<6 then return '' end
        local c=0
        for i=1,6 do c=c+(x:sub(i,i)=='1' and 2^(6-i) or 0) end
        return _b64chars:sub(c+1,c+1)
    end)..(({'','==','='})[#data%3+1])
end
local function B64Dec(data)
    data=data:gsub('[^'..(_b64chars):gsub('%+','%%+')..'=]','')
    return (data:gsub('.',function(x)
        if x=='=' then return '' end
        local r,f='',(_b64chars:find(x,1,true)-1)
        for i=6,1,-1 do r=r..(f%2^i-f%2^(i-1)>0 and '1' or '0') end
        return r
    end):gsub('%d%d%d%d%d%d%d%d',function(x)
        local c=0
        for i=1,8 do c=c+(x:sub(i,i)=='1' and 2^(8-i) or 0) end
        return string.char(c)
    end))
end

local SHARE_PREFIX="PELMEN1:"

local function GenShareCode()
    local export={}
    for k,v in pairs(Cfg) do
        if type(v)=="table" then
            export[k]={}
            for kk,vv in pairs(v) do
                if type(vv)=="number" or type(vv)=="boolean" then export[k][kk]=vv end
            end
        end
    end
    local ok,json=pcall(HttpService.JSONEncode,HttpService,export)
    if not ok then return nil end
    local ok2,b64=pcall(B64Enc,json)
    if not ok2 then return nil end
    return SHARE_PREFIX..b64
end

local function ImportShareCode(code)
    if type(code)~="string" then return false,"ĞŸÑƒÑÑ‚Ğ¾Ğ¹ ĞºĞ¾Ğ´" end
    code=code:match("^%s*(.-)%s*$")
    if code:sub(1,#SHARE_PREFIX)~=SHARE_PREFIX then return false,"ĞĞµĞ²ĞµÑ€Ğ½Ñ‹Ğ¹ ĞºĞ¾Ğ´ â€” Ğ´Ğ¾Ğ»Ğ¶ĞµĞ½ Ğ½Ğ°Ñ‡Ğ¸Ğ½Ğ°Ñ‚ÑŒÑÑ Ñ PELMEN1:" end
    local b64=code:sub(#SHARE_PREFIX+1)
    local ok,json=pcall(B64Dec,b64)
    if not ok or not json or #json<2 then return false,"ĞÑˆĞ¸Ğ±ĞºĞ° Ğ´ĞµĞºĞ¾Ğ´Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¸Ñ" end
    local ok2,parsed=pcall(HttpService.JSONDecode,HttpService,json)
    if not ok2 or type(parsed)~="table" then return false,"ĞÑˆĞ¸Ğ±ĞºĞ° JSON" end
    for k,v in pairs(parsed) do
        if type(v)=="table" and type(Cfg[k])=="table" then
            for kk,vv in pairs(v) do
                if Cfg[k][kk]~=nil and (type(vv)=="number" or type(vv)=="boolean") then Cfg[k][kk]=vv end
            end
        end
    end
    ScheduleSave()
    return true,"OK"
end

local function Char() return LP.Character end
local function Root() local c=Char() return c and c:FindFirstChild("HumanoidRootPart") end
local function Hum()  local c=Char() return c and c:FindFirstChildOfClass("Humanoid") end

local T={
    BG       = Color3.fromRGB(9,9,16),
    Panel    = Color3.fromRGB(15,15,26),
    Card     = Color3.fromRGB(22,22,38),
    CardHov  = Color3.fromRGB(30,30,50),
    Border   = Color3.fromRGB(40,40,65),
    Acc      = Color3.fromRGB(110,80,255),
    Acc2     = Color3.fromRGB(180,120,255),
    AccGlow  = Color3.fromRGB(70,50,180),
    On       = Color3.fromRGB(120,90,255),
    Off      = Color3.fromRGB(35,35,58),
    Text     = Color3.fromRGB(210,210,230),
    Sub      = Color3.fromRGB(90,90,120),
    White    = Color3.fromRGB(255,255,255),
    Green    = Color3.fromRGB(80,220,120),
    Red      = Color3.fromRGB(220,70,70),
    Yellow   = Color3.fromRGB(240,200,60),
    Pill     = Color3.fromRGB(28,28,48),
    Cyan     = Color3.fromRGB(80,220,220),
}

local _rainbow={}
local _rainbowConns={}

local function Tw(o,p,t,s)
    TweenService:Create(o,TweenInfo.new(t or 0.18,s or Enum.EasingStyle.Quart,Enum.EasingDirection.Out),p):Play()
end
local function uiCorner(p,r)
    local c=Instance.new("UICorner") c.CornerRadius=UDim.new(0,r or 12) c.Parent=p return c
end
local function uiStroke(p,col,th)
    local s=Instance.new("UIStroke") s.Color=col s.Thickness=th or 1.4 s.Parent=p return s
end
local function uiPad(p,l,r,t,b)
    local u=Instance.new("UIPadding")
    u.PaddingLeft=UDim.new(0,l or 0) u.PaddingRight=UDim.new(0,r or 0)
    u.PaddingTop=UDim.new(0,t or 0)  u.PaddingBottom=UDim.new(0,b or 0) u.Parent=p
end

local function rainbowColor(t,shift,_s,_v)
    shift=shift or 0
    local v=0.5+0.5*math.sin(t*1.4+shift*6.2832)
    local lo,hi=0.18,0.96
    local lv=lo+(hi-lo)*v
    return Color3.new(lv,lv,lv)
end

local function addRainbow(stroke,speed,shift,sat)
    speed=speed or 1 shift=shift or 0 sat=sat or 0.72
    table.insert(_rainbow,{stroke=stroke,speed=speed,shift=shift,sat=sat})
end

local function addRainbowGrad(grad,speed,shift)
    speed=speed or 1 shift=shift or 0
    table.insert(_rainbow,{grad=grad,speed=speed,shift=shift})
end

if game.CoreGui:FindFirstChild("PelmenPVP") then game.CoreGui.PelmenPVP:Destroy() end
local GUI=Instance.new("ScreenGui")
GUI.Name="PelmenPVP" GUI.ResetOnSpawn=false
GUI.ZIndexBehavior=Enum.ZIndexBehavior.Sibling
GUI.DisplayOrder=1000 GUI.IgnoreGuiInset=true
local _ok=pcall(function() GUI.Parent=game.CoreGui end)
if not _ok then GUI.Parent=LP.PlayerGui end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-- ğŸ•·ï¸  SPIDER v1.3  Â·  LLM ADAPTATION ENGINE  Â·  TOP-1 ANTI-AC
--
--   ĞÑ€Ñ…Ğ¸Ñ‚ĞµĞºÑ‚ÑƒÑ€Ğ°:
--     [Tokenizer] â†’ [Embedding Layer] â†’ [Attention Scorer] â†’ [Classifier]
--         â†“                                                        â†“
--     [Memory Bank]  â†â†â†â†  [Backprop-Lite]  â†â†â†â†  [Feedback Loop]
--         â†“
--     [Generative Adapter] â†’ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ ĞºĞ°Ğ¶Ğ´ÑƒÑ ÑĞµĞºÑƒĞ½Ğ´Ñƒ
--
--   ĞĞ¾Ğ»ÑŒ Ğ»Ğ°Ğ³Ğ¾Ğ²: Ğ¾Ğ´Ğ¸Ğ½ Heartbeat-Ğ¿Ğ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸Ğº, Ğ²ÑĞµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ event-driven
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local flyActive = false

-- â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
-- â”‚  LLM CORE â€” Ğ²ÑÑ‚Ñ€Ğ¾ĞµĞ½Ğ½Ğ°Ñ ÑĞ·Ñ‹ĞºĞ¾Ğ²Ğ°Ñ Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ´Ğ»Ñ ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ ÑƒĞ³Ñ€Ğ¾Ğ·         â”‚
-- â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

local LLM = {}

-- â”€â”€ 1. Ğ¡Ğ›ĞĞ’ĞĞ Ğ¬ Ğ¢ĞĞšĞ•ĞĞĞ’ (vocab) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-- ĞšĞ°Ğ¶Ğ´Ñ‹Ğ¹ Ñ‚Ğ¾ĞºĞµĞ½ Ğ¸Ğ¼ĞµĞµÑ‚ embedding-Ğ²ĞµĞºÑ‚Ğ¾Ñ€ [threat_score, freq_score, ctx_score]
-- Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ Ğ¸Ğ· Ğ±Ğ°Ğ·Ğ¾Ğ²Ñ‹Ñ… Ğ·Ğ½Ğ°Ğ½Ğ¸Ğ¹, Ğ·Ğ°Ñ‚ĞµĞ¼ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµÑ‚ÑÑ Ğ² Ğ¿Ñ€Ğ¾Ñ†ĞµÑÑĞµ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ñ‹
LLM.vocab = {
    -- [token] = {w=weight, freq=Ñ‡Ğ°ÑÑ‚Ğ¾Ñ‚Ğ°, ctx=ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğ½Ñ‹Ğ¹_Ğ²ĞµÑ, confirmed=Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ñ‘Ğ½}
    -- ĞšĞ»Ğ°ÑÑ KICK / BAN
    ["kick"]       = {w=0.95, freq=1, ctx=0.9,  confirmed=true},
    ["ban"]        = {w=0.95, freq=1, ctx=0.9,  confirmed=true},
    ["banned"]     = {w=0.92, freq=1, ctx=0.88, confirmed=true},
    ["banaync"]    = {w=0.90, freq=1, ctx=0.85, confirmed=true},
    ["punish"]     = {w=0.85, freq=1, ctx=0.80, confirmed=true},
    ["punishment"] = {w=0.83, freq=1, ctx=0.78, confirmed=true},
    -- ĞšĞ»Ğ°ÑÑ DETECT
    ["detect"]     = {w=0.88, freq=1, ctx=0.85, confirmed=true},
    ["detection"]  = {w=0.87, freq=1, ctx=0.84, confirmed=true},
    ["anticheat"]  = {w=0.98, freq=1, ctx=0.97, confirmed=true},
    ["antihack"]   = {w=0.97, freq=1, ctx=0.96, confirmed=true},
    ["anti"]       = {w=0.55, freq=1, ctx=0.50, confirmed=true},
    ["cheat"]      = {w=0.90, freq=1, ctx=0.88, confirmed=true},
    ["hack"]       = {w=0.85, freq=1, ctx=0.82, confirmed=true},
    ["exploit"]    = {w=0.88, freq=1, ctx=0.85, confirmed=true},
    -- ĞšĞ»Ğ°ÑÑ FLAG / REPORT
    ["flag"]       = {w=0.80, freq=1, ctx=0.78, confirmed=true},
    ["flagged"]    = {w=0.82, freq=1, ctx=0.80, confirmed=true},
    ["report"]     = {w=0.72, freq=1, ctx=0.68, confirmed=true},
    ["verify"]     = {w=0.70, freq=1, ctx=0.65, confirmed=true},
    ["violation"]  = {w=0.85, freq=1, ctx=0.82, confirmed=true},
    -- ĞšĞ»Ğ°ÑÑ MONITOR
    ["monitor"]    = {w=0.78, freq=1, ctx=0.75, confirmed=true},
    ["watchdog"]   = {w=0.88, freq=1, ctx=0.86, confirmed=true},
    ["guardian"]   = {w=0.80, freq=1, ctx=0.77, confirmed=true},
    ["sentinel"]   = {w=0.82, freq=1, ctx=0.79, confirmed=true},
    ["enforce"]    = {w=0.78, freq=1, ctx=0.75, confirmed=true},
    ["inspector"]  = {w=0.76, freq=1, ctx=0.73, confirmed=true},
    ["audit"]      = {w=0.74, freq=1, ctx=0.71, confirmed=true},
    -- ĞšĞ»Ğ°ÑÑ CHECK
    ["sanity"]     = {w=0.75, freq=1, ctx=0.72, confirmed=true},
    ["speedcheck"] = {w=0.90, freq=1, ctx=0.88, confirmed=true},
    ["walkcheck"]  = {w=0.90, freq=1, ctx=0.88, confirmed=true},
    ["poscheck"]   = {w=0.88, freq=1, ctx=0.86, confirmed=true},
    ["jumpcheck"]  = {w=0.87, freq=1, ctx=0.85, confirmed=true},
    ["healthcheck"]= {w=0.85, freq=1, ctx=0.83, confirmed=true},
    ["teleportcheck"]={w=0.88,freq=1, ctx=0.86, confirmed=true},
    -- ĞšĞ»Ğ°ÑÑ RATE / LIMIT
    ["ratelimit"]  = {w=0.78, freq=1, ctx=0.75, confirmed=true},
    ["floodcheck"] = {w=0.82, freq=1, ctx=0.80, confirmed=true},
    ["abuscheck"]  = {w=0.86, freq=1, ctx=0.83, confirmed=true},
    -- ĞšĞ»Ğ°ÑÑ SERVICE / LOG
    ["logger"]     = {w=0.68, freq=1, ctx=0.65, confirmed=true},
    ["logservice"] = {w=0.72, freq=1, ctx=0.70, confirmed=true},
    ["banservice"] = {w=0.92, freq=1, ctx=0.90, confirmed=true},
    ["moderation"] = {w=0.70, freq=1, ctx=0.67, confirmed=true},
    -- ĞšĞ»Ğ°ÑÑ SAFE (Ğ±ĞµĞ»Ñ‹Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº â€” ÑĞ½Ğ¸Ğ¶Ğ°ÑÑ‚ Ğ¸Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğ¹ score)
    ["gui"]        = {w=-0.3, freq=1, ctx=-0.2, confirmed=true},
    ["frame"]      = {w=-0.3, freq=1, ctx=-0.2, confirmed=true},
    ["button"]     = {w=-0.2, freq=1, ctx=-0.1, confirmed=true},
    ["label"]      = {w=-0.2, freq=1, ctx=-0.1, confirmed=true},
    ["script"]     = {w= 0.1, freq=1, ctx= 0.1, confirmed=true},
    ["module"]     = {w= 0.1, freq=1, ctx= 0.1, confirmed=true},
    ["sound"]      = {w=-0.4, freq=1, ctx=-0.3, confirmed=true},
    ["music"]      = {w=-0.4, freq=1, ctx=-0.3, confirmed=true},
    ["part"]       = {w=-0.3, freq=1, ctx=-0.2, confirmed=true},
    ["tool"]       = {w=-0.1, freq=1, ctx=-0.1, confirmed=true},
    ["shop"]       = {w=-0.5, freq=1, ctx=-0.4, confirmed=true},
    ["game"]       = {w=-0.2, freq=1, ctx=-0.1, confirmed=true},
    ["player"]     = {w=-0.1, freq=1, ctx=-0.0, confirmed=true},
    ["remote"]     = {w= 0.2, freq=1, ctx= 0.2, confirmed=true},
}

-- â”€â”€ 2. ĞŸĞĞœĞ¯Ğ¢Ğ¬ (episodic memory) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-- Ğ¥Ñ€Ğ°Ğ½Ğ¸Ñ‚ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ N Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ñ‘Ğ½Ğ½Ñ‹Ñ… ÑƒĞ³Ñ€Ğ¾Ğ· ĞºĞ°Ğº "Ğ¾Ğ±ÑƒÑ‡Ğ°ÑÑ‰Ğ¸Ğµ Ğ¿Ñ€Ğ¸Ğ¼ĞµÑ€Ñ‹"
LLM.memory = {
    threats  = {},   -- [{tokens, score, time, type}]
    safe     = {},   -- [{tokens, time}]
    maxSize  = 512,  -- Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼ Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹
    hitCount = 0,
    missCount= 0,
}

-- â”€â”€ 3. Ğ¡ĞĞ¡Ğ¢ĞĞ¯ĞĞ˜Ğ• ĞœĞĞ”Ğ•Ğ›Ğ˜ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
LLM.model = {
    generation    = 0,       -- ÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ñ€Ğ°Ğ· Ğ¼Ğ¾Ğ´ĞµĞ»ÑŒ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞ»Ğ°ÑÑŒ
    confidence    = 0,       -- 0.0â€“1.0 Ğ¾Ğ±Ñ‰Ğ°Ñ ÑƒĞ²ĞµÑ€ĞµĞ½Ğ½Ğ¾ÑÑ‚ÑŒ
    learningRate  = 0.08,    -- ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ñ (ÑƒĞ¼ĞµĞ½ÑŒÑˆĞ°ĞµÑ‚ÑÑ ÑĞ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½ĞµĞ¼)
    threshold     = 0.45,    -- Ğ¿Ğ¾Ñ€Ğ¾Ğ³ ĞºĞ»Ğ°ÑÑĞ¸Ñ„Ğ¸ĞºĞ°Ñ†Ğ¸Ğ¸ (Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ÑÑ)
    vocabSize     = 0,       -- Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ñ
    falsePositives= 0,       -- Ğ»Ğ¾Ğ¶Ğ½Ñ‹Ğµ ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ (Ğ´Ğ»Ñ ĞºĞ¾Ñ€Ñ€ĞµĞºÑ†Ğ¸Ğ¸)
    truePositives = 0,       -- Ğ²ĞµÑ€Ğ½Ñ‹Ğµ ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ñ
    -- ĞĞ´Ğ°Ğ¿Ñ‚Ğ¸Ğ²Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ‹ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹
    tpThreshold   = nil,     -- nil = Ğ¸Ğ· Cfg, Ğ¸Ğ½Ğ°Ñ‡Ğµ Ğ°Ğ²Ñ‚Ğ¾
    floodLimit    = 60,
    scanInterval  = 2.0,
}

-- â”€â”€ 4. Ğ¢ĞĞšĞ•ĞĞ˜Ğ—ĞĞ¢ĞĞ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-- Ğ Ğ°Ğ·Ğ±Ğ¸Ğ²Ğ°ĞµÑ‚ Ğ¸Ğ¼Ñ Ğ¾Ğ±ÑŠĞµĞºÑ‚Ğ° Ğ½Ğ° Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ¿Ğ¾ Ğ¿Ñ€Ğ°Ğ²Ğ¸Ğ»Ğ°Ğ¼ ÑĞ·Ñ‹ĞºĞ¾Ğ²Ğ¾Ğ¹ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
local function llmTokenize(name)
    if not name or #name == 0 then return {} end
    local s = tostring(name):lower()

    local tokens = {}
    local seen = {}

    -- ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ 1: Ñ†ĞµĞ»Ğ¾Ğµ ÑĞ»Ğ¾Ğ²Ğ¾
    local clean = s:gsub("[^%a%d]", "")
    if #clean >= 3 then
        tokens[#tokens+1] = clean
        seen[clean] = true
    end

    -- ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ 2: camelCase split â†’ AntiCheat â†’ {"anti","cheat"}
    for word in s:gmatch("[%a][%l%d]*") do
        if #word >= 3 and not seen[word] then
            tokens[#tokens+1] = word
            seen[word] = true
        end
    end

    -- ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ 3: n-gram (4â€“7 chars) Ğ¸Ğ· Ğ¾Ñ‡Ğ¸Ñ‰ĞµĞ½Ğ½Ğ¾Ğ³Ğ¾ ÑĞ»Ğ¾Ğ²Ğ°
    if #clean >= 4 then
        for len = 4, math.min(7, #clean) do
            for i = 1, #clean - len + 1 do
                local gram = clean:sub(i, i + len - 1)
                if not seen[gram] then
                    tokens[#tokens+1] = gram
                    seen[gram] = true
                end
            end
        end
    end

    -- ĞŸÑ€Ğ°Ğ²Ğ¸Ğ»Ğ¾ 4: prefix/suffix tokens (Ğ²Ğ°Ğ¶Ğ½Ñ‹ Ğ´Ğ»Ñ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ğ¾Ğ²)
    if #clean >= 5 then
        local pre3 = clean:sub(1,3)
        local suf3 = clean:sub(-3)
        if not seen[pre3] then tokens[#tokens+1] = pre3 seen[pre3]=true end
        if suf3~=pre3 and not seen[suf3] then tokens[#tokens+1] = suf3 seen[suf3]=true end
    end

    return tokens
end

-- â”€â”€ 5. ATTENTION SCORER â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-- Ğ˜Ğ¼Ğ¸Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¼ĞµÑ…Ğ°Ğ½Ğ¸Ğ·Ğ¼ Ğ²Ğ½Ğ¸Ğ¼Ğ°Ğ½Ğ¸Ñ: Ğ²Ğ·Ğ²ĞµÑˆĞ¸Ğ²Ğ°ĞµÑ‚ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ¿Ğ¾ ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ñƒ
local function llmAttention(tokens, contextWeight)
    contextWeight = contextWeight or 1.0
    if #tokens == 0 then return 0 end

    local scores = {}
    local totalWeight = 0

    for i, tok in ipairs(tokens) do
        local entry = LLM.vocab[tok]
        if entry then
            -- Attention weight = positional decay (Ñ€Ğ°Ğ½Ğ½Ğ¸Ğµ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ²Ğ°Ğ¶Ğ½ĞµĞµ)
            local posWeight = 1.0 / (1 + (i-1) * 0.15)
            -- Context modulation
            local ctxMod = entry.ctx * contextWeight
            -- Frequency bonus (Ñ‡Ğ°ÑÑ‚Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ½Ğ°Ğ´Ñ‘Ğ¶Ğ½ĞµĞµ)
            local freqBonus = math.min(0.3, (entry.freq - 1) * 0.02)
            -- Ğ˜Ñ‚Ğ¾Ğ³Ğ¾Ğ²Ñ‹Ğ¹ score Ñ‚Ğ¾ĞºĞµĞ½Ğ°
            local s = (entry.w + freqBonus) * posWeight * (0.7 + 0.3 * ctxMod)
            scores[#scores+1] = {score=s, weight=posWeight, tok=tok}
            totalWeight = totalWeight + posWeight
        end
    end

    if #scores == 0 then return 0 end

    -- Softmax-lite Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ
    local sum = 0
    for _, item in ipairs(scores) do
        sum = sum + item.score * (item.weight / totalWeight)
    end

    -- Sigmoid activation: ÑĞ¶Ğ¸Ğ¼Ğ°ĞµĞ¼ Ğ² [0,1]
    local activated = 1 / (1 + math.exp(-sum * 3))

    return activated
end

-- â”€â”€ 6. FORWARD PASS â€” Ğ³Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ñ‹Ğ²Ğ¾Ğ´ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-- Ğ’Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‰Ğ°ĞµÑ‚: score (0.0â€“1.0), tokens, matched_vocab_entries
local function llmForward(name, contextWeight)
    local tokens = llmTokenize(name)
    if #tokens == 0 then return 0, tokens end

    local score = llmAttention(tokens, contextWeight)

    -- Boost ĞµÑĞ»Ğ¸ Ğ½ĞµÑĞºĞ¾Ğ»ÑŒĞºĞ¾ Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ñ… Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ² ÑĞ¾Ğ²Ğ¿Ğ°Ğ»Ğ¸
    local dangerCount = 0
    for _, tok in ipairs(tokens) do
        local e = LLM.vocab[tok]
        if e and e.w >= 0.75 then dangerCount = dangerCount + 1 end
    end
    if dangerCount >= 2 then score = score * (1 + dangerCount * 0.12) end
    score = math.min(1.0, score)

    return score, tokens
end

local function llmIsThreat(name, ctx)
    local score, tokens = llmForward(name, ctx)
    return score >= LLM.model.threshold, score, tokens
end

-- â”€â”€ 7. BACKPROPAGATION-LITE â€” Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ñ‘Ğ½Ğ½Ñ‹Ğ¼ ÑƒĞ³Ñ€Ğ¾Ğ·Ğ°Ğ¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-- ĞŸÑ€Ğ¸ Ğ¿Ğ¾Ğ´Ñ‚Ğ²ĞµÑ€Ğ¶Ğ´Ñ‘Ğ½Ğ½Ğ¾Ğ¹ ÑƒĞ³Ñ€Ğ¾Ğ·Ğµ Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ²ĞµÑĞ° Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ² (gradient descent)
local function llmLearnThreat(tokens, confirmed, strength)
    strength = strength or 1.0
    local lr = LLM.model.learningRate

    for _, tok in ipairs(tokens) do
        if not LLM.vocab[tok] then
            -- ĞĞ¾Ğ²Ñ‹Ğ¹ Ñ‚Ğ¾ĞºĞµĞ½ â€” Ğ´Ğ¾Ğ±Ğ°Ğ²Ğ»ÑĞµĞ¼ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€ÑŒ
            LLM.vocab[tok] = {
                w       = confirmed and (0.40 * strength) or -0.15,
                freq    = 1,
                ctx     = confirmed and (0.35 * strength) or -0.10,
                confirmed = false,
                learned = true,
            }
            LLM.model.vocabSize = LLM.model.vocabSize + 1
        else
            local e = LLM.vocab[tok]
            if confirmed then
                -- Gradient step: w += lr * strength * (1 - w)
                e.w   = math.min(0.98, e.w   + lr * strength * (1.0 - e.w))
                e.ctx = math.min(0.97, e.ctx + lr * strength * (0.95 - e.ctx))
                e.freq = e.freq + 1
                if e.freq >= 5 then e.confirmed = true end
                LLM.model.truePositives = LLM.model.truePositives + 1
            else
                -- Negative update: ÑĞ½Ğ¸Ğ¶Ğ°ĞµĞ¼ Ğ²ĞµÑ (Ğ»Ğ¾Ğ¶Ğ½Ğ¾Ğµ ÑÑ€Ğ°Ğ±Ğ°Ñ‚Ñ‹Ğ²Ğ°Ğ½Ğ¸Ğµ)
                e.w   = math.max(-0.5, e.w   - lr * 0.5 * math.abs(e.w))
                e.ctx = math.max(-0.45,e.ctx - lr * 0.5 * math.abs(e.ctx))
                LLM.model.falsePositives = LLM.model.falsePositives + 1
            end
        end
    end

    -- Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ÑĞµĞ¼ Ğ² Ğ¿Ğ°Ğ¼ÑÑ‚ÑŒ
    local mem = confirmed and LLM.memory.threats or LLM.memory.safe
    table.insert(mem, 1, {tokens=tokens, time=tick(), confirmed=confirmed})
    if #mem > LLM.model.maxSize then table.remove(mem) end

    LLM.model.generation = LLM.model.generation + 1
end

-- â”€â”€ 8. ĞĞ”ĞĞŸĞ¢Ğ˜Ğ’ĞĞ«Ğ™ ĞŸĞ›ĞĞĞ˜Ğ ĞĞ’Ğ©Ğ˜Ğš ĞŸĞĞ ĞĞœĞ•Ğ¢Ğ ĞĞ’ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-- ĞšĞ°Ğ¶Ğ´Ñ‹Ğµ N ÑĞµĞºÑƒĞ½Ğ´: Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµĞ¼ ÑÑ‚Ğ°Ñ‚Ğ¸ÑÑ‚Ğ¸ĞºÑƒ Ğ¸ Ğ¿ĞµÑ€ĞµÑÑ‚Ñ€Ğ°Ğ¸Ğ²Ğ°ĞµĞ¼ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğ¸
local function llmAdaptParams()
    local tp = LLM.model.truePositives
    local fp = LLM.model.falsePositives
    local total = tp + fp

    -- Learning rate decay (ĞºĞ°Ğº Ğ² Adam optimizer)
    LLM.model.learningRate = math.max(0.01, LLM.model.learningRate * 0.995)

    -- Confidence: Ñ‚Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ = TP / (TP + FP)
    if total > 0 then
        local precision = tp / total
        LLM.model.confidence = precision * 0.7 + (math.min(total, 100) / 100) * 0.3
    end

    -- Threshold Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ñ: ĞµÑĞ»Ğ¸ Ğ¼Ğ½Ğ¾Ğ³Ğ¾ FP â†’ Ğ¿Ğ¾Ğ²Ñ‹ÑˆĞ°ĞµĞ¼ Ğ¿Ğ¾Ñ€Ğ¾Ğ³ (ÑÑ‚Ñ€Ğ¾Ğ¶Ğµ)
    if total > 10 then
        local fpRate = fp / total
        if fpRate > 0.25 then
            LLM.model.threshold = math.min(0.75, LLM.model.threshold + 0.02)
        elseif fpRate < 0.05 and tp > 5 then
            LLM.model.threshold = math.max(0.30, LLM.model.threshold - 0.01)
        end
    end

    -- TP threshold Ğ´Ğ»Ñ anti-TP: ĞµÑĞ»Ğ¸ Ğ²Ğ¸Ğ´Ğ¸Ğ¼ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ TP-Ğ°Ñ‚Ğ°Ğº â€” ÑƒĞ¶ĞµÑÑ‚Ğ¾Ñ‡Ğ°ĞµĞ¼
    local tpAttacks = LLM.memory.hitCount or 0
    if tpAttacks > 3 then
        LLM.model.tpThreshold = math.max(15, (Cfg.Spider.Threshold or 40) * 0.65)
    else
        LLM.model.tpThreshold = nil
    end

    -- Flood limit Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ñ
    if LLM.memory.hitCount > 5 then
        LLM.model.floodLimit = math.max(20, LLM.model.floodLimit - 3)
    else
        LLM.model.floodLimit = math.min(60, LLM.model.floodLimit + 1)
    end

    -- Scan interval: Ñ‡ĞµĞ¼ Ğ¾Ğ¿Ğ°ÑĞ½ĞµĞµ Ğ¸Ğ³Ñ€Ğ° â€” Ñ‡Ğ°Ñ‰Ğµ ÑĞºĞ°Ğ½Ğ¸Ñ€ÑƒĞµĞ¼
    local danger = math.min(1.0, tp / math.max(total, 1))
    LLM.model.scanInterval = 2.0 - danger * 1.4 -- Ğ¾Ñ‚ 2.0Ñ Ğ´Ğ¾ 0.6Ñ
end

-- â”€â”€ 9. Ğ“Ğ•ĞĞ•Ğ ĞĞ¢Ğ˜Ğ’ĞĞ«Ğ™ ĞĞ”ĞĞŸĞ¢Ğ•Ğ  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-- ĞšĞ°Ğ¶Ğ´ÑƒÑ ÑĞµĞºÑƒĞ½Ğ´Ñƒ: Ğ³ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµÑ‚ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ¸Ğ· Ğ¿Ğ°Ğ¼ÑÑ‚Ğ¸ ÑƒĞ³Ñ€Ğ¾Ğ·
-- Ğ˜Ğ¼Ğ¸Ñ‚Ğ¸Ñ€ÑƒĞµÑ‚ "Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ñ" Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ² ĞºĞ°Ğº Ğ² ÑĞ·Ñ‹ĞºĞ¾Ğ²Ñ‹Ñ… Ğ¼Ğ¾Ğ´ĞµĞ»ÑÑ…
local function llmGeneratePatterns()
    if #LLM.memory.threats < 3 then return end

    -- Ğ‘ĞµÑ€Ñ‘Ğ¼ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ ÑƒĞ³Ñ€Ğ¾Ğ·Ñ‹ ĞºĞ°Ğº ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚
    local context = {}
    local contextSize = math.min(8, #LLM.memory.threats)
    for i = 1, contextSize do
        local mem = LLM.memory.threats[i]
        if mem and mem.tokens then
            for _, tok in ipairs(mem.tokens) do
                context[tok] = (context[tok] or 0) + 1
            end
        end
    end

    -- ĞĞ°Ñ…Ğ¾Ğ´Ğ¸Ğ¼ ÑĞ°Ğ¼Ñ‹Ğµ Ñ‡Ğ°ÑÑ‚Ñ‹Ğµ Ñ‚Ğ¾ĞºĞµĞ½Ñ‹ Ğ² ĞºĞ¾Ğ½Ñ‚ĞµĞºÑÑ‚Ğµ
    local topTokens = {}
    for tok, cnt in pairs(context) do
        if cnt >= 2 then topTokens[#topTokens+1] = {tok=tok, cnt=cnt} end
    end
    table.sort(topTokens, function(a,b) return a.cnt > b.cnt end)

    -- Ğ“ĞµĞ½ĞµÑ€Ğ¸Ñ€ÑƒĞµĞ¼ ĞºĞ¾Ğ¼Ğ±Ğ¸Ğ½Ğ°Ñ†Ğ¸Ğ¸ (cross-attention Ğ¼ĞµĞ¶Ğ´Ñƒ Ñ‚Ğ¾Ğ¿-Ñ‚Ğ¾ĞºĞµĞ½Ğ°Ğ¼Ğ¸)
    for i = 1, math.min(3, #topTokens) do
        for j = i+1, math.min(4, #topTokens) do
            local combo = topTokens[i].tok .. topTokens[j].tok
            if #combo >= 5 and not LLM.vocab[combo] then
                -- ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ñ‡Ñ‚Ğ¾ ĞºĞ¾Ğ¼Ğ±Ğ¾ ĞµÑ‰Ñ‘ Ğ½Ğµ Ğ² ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ğµ
                local baseScore = (LLM.vocab[topTokens[i].tok] and LLM.vocab[topTokens[i].tok].w or 0.3)
                            + (LLM.vocab[topTokens[j].tok] and LLM.vocab[topTokens[j].tok].w or 0.3)
                if baseScore > 0.6 then
                    LLM.vocab[combo] = {
                        w=baseScore*0.5, freq=1, ctx=baseScore*0.45,
                        confirmed=false, generated=true
                    }
                    LLM.model.vocabSize = LLM.model.vocabSize + 1
                end
            end
        end
    end
end

-- â”€â”€ 10. SECONDARY BRAIN â€” Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ñ‡ĞµÑĞºĞ¸Ğ¹ Ğ°Ğ½Ğ°Ğ»Ğ¸Ğ· (Ğ½Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¸Ğ¼ĞµĞ½Ğ°) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
-- ĞĞ½Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµÑ‚ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ¿Ğ¾Ğ²ĞµĞ´ĞµĞ½Ğ¸Ñ ĞĞ¡: Ñ‡Ğ°ÑÑ‚Ğ¾Ñ‚Ñƒ, Ğ¿Ğ¾Ñ€ÑĞ´Ğ¾Ğº Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ¾Ğ², Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹ÌĞµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹
local BRAIN = {
    callHistory  = {},   -- {method, time, obj}
    callFreq     = {},   -- {method â†’ count}
    timePatterns = {},   -- Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ¿Ğ°Ñ‚Ñ‚ĞµÑ€Ğ½Ñ‹ Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ¾Ğ²
    anomalyScore = 0,    -- Ñ‚ĞµĞºÑƒÑ‰Ğ¸Ğ¹ ÑƒÑ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ°Ğ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ğ¸
}

local function brainRecord(method, objName)
    local now = tick()
    table.insert(BRAIN.callHistory, 1, {m=method, t=now, n=objName or ""})
    if #BRAIN.callHistory > 200 then table.remove(BRAIN.callHistory) end
    BRAIN.callFreq[method] = (BRAIN.callFreq[method] or 0) + 1

    -- Anomaly detection: Ğ¼Ğ½Ğ¾Ğ³Ğ¾ Ğ¾Ğ´Ğ¸Ğ½Ğ°ĞºĞ¾Ğ²Ñ‹Ñ… Ğ²Ñ‹Ğ·Ğ¾Ğ²Ğ¾Ğ² Ğ·Ğ° ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¾Ğµ Ğ²Ñ€ĞµĞ¼Ñ = Ğ¿Ğ¾Ğ´Ğ¾Ğ·Ñ€ĞµĞ½Ğ¸Ğµ
    local recent = 0
    for _, ev in ipairs(BRAIN.callHistory) do
        if now - ev.t < 5 and ev.m == method then recent = recent + 1 end
        if now - ev.t > 5 then break end
    end
    if recent > 15 then
        BRAIN.anomalyScore = math.min(1.0, BRAIN.anomalyScore + 0.1)
    else
        BRAIN.anomalyScore = math.max(0.0, BRAIN.anomalyScore - 0.02)
    end
end

-- â”€â”€ SPIDER STATE â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local _SP = {
    conns        = {},
    meta         = {},
    running      = false,
    ncHooked     = false,
    wsHooked     = false,
    _lastSafePos = nil,
    _remoteCache = {},
    _scanLast    = 0,
    _adaptLast   = 0,
    _genLast     = 0,
    _aiTickLast  = 0,
}
local _origGravity = nil

-- Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ¸Ñ€ÑƒĞµĞ¼ Ñ€Ğ°Ğ·Ğ¼ĞµÑ€ ÑĞ»Ğ¾Ğ²Ğ°Ñ€Ñ
for _ in pairs(LLM.vocab) do LLM.model.vocabSize = LLM.model.vocabSize + 1 end

-- â”€â”€ Ğ£Ğ’Ğ•Ğ”ĞĞœĞ›Ğ•ĞĞ˜Ğ• Ñ Ğ¾Ğ±ÑƒÑ‡ĞµĞ½Ğ¸ĞµĞ¼ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spNotify(title, msg, col, dur, tokens, isReal)
    if tokens then llmLearnThreat(tokens, isReal ~= false, 1.0) end
    LLM.memory.hitCount = (LLM.memory.hitCount or 0) + 1
    task.defer(function()
        if type(Notify) == "function" then Notify(title, msg, col or T.Red, dur or 3) end
    end)
end

-- â”€â”€ Ğ¡Ğ›ĞĞ™ 1+2: __namecall hook (Ñ Brain recording) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spHookGameMeta()
    if _SP.ncHooked then return end _SP.ncHooked = true
    pcall(function()
        local mt = getrawmetatable and getrawmetatable(game)
        if not mt then return end
        local oldNC = rawget(mt, "__namecall")
        if setreadonly then setreadonly(mt, false) end

        mt.__namecall = newcclosure and newcclosure(function(self, ...)
            local method = (getnamecallmethod and getnamecallmethod()) or ""

            -- Ğ—Ğ°Ğ¿Ğ¸ÑÑŒ Ğ² BRAIN
            brainRecord(method)

            -- Kick
            if method == "Kick" and (self == LP or tostring(self) == tostring(LP)) then
                local _, _, toks = llmIsThreat("Kick", 1.2)
                spNotify("ğŸ•·ï¸ KICK","Spider v1.3 Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ»!",T.Red,4,toks,true)
                return
            end
            -- Ban / Remove / Destroy Ğ½Ğ° LP
            if (method=="Ban" or method=="Remove" or method=="Destroy") and self==LP then
                local _, _, toks = llmIsThreat(method, 1.1)
                spNotify("ğŸ•·ï¸ "..method,"Ğ—Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½",T.Red,4,toks,true)
                return
            end
            -- Shutdown
            if method=="Shutdown" or method=="Close" then
                spNotify("ğŸ•·ï¸ SHUTDOWN","Ğ—Ğ°ĞºÑ€Ñ‹Ñ‚Ğ¸Ğµ Ğ¸Ğ³Ñ€Ñ‹ Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾!",T.Red,5,{"shutdown"},true)
                return
            end
            -- FireServer Ğ¾Ñ‚ AC-Ñ€ĞµĞ¼Ğ¾ÑƒÑ‚Ğ¾Ğ²
            if method=="FireServer" or method=="InvokeServer" then
                local ok, isRE = pcall(function() return self:IsA("RemoteEvent") or self:IsA("RemoteFunction") end)
                if ok and isRE then
                    local ok2, name = pcall(function() return self.Name end)
                    if ok2 and name then
                        local isThreat, score, toks = llmIsThreat(name, 1.0 + BRAIN.anomalyScore)
                        if isThreat then
                            llmLearnThreat(toks, true, score)
                            return -- Ñ‚Ğ¸Ñ…Ğ¸Ğ¹ Ğ±Ğ»Ğ¾Ğº
                        else
                            llmLearnThreat(toks, false, 0.3)
                        end
                    end
                end
            end
            -- Teleport block
            if (method=="TeleportToPlaceInstance" or method=="TeleportAsync"
                or method=="Teleport" or method=="TeleportToPrivateServer") and not flyActive then
                local _, _, toks = llmIsThreat("teleport", 1.0)
                spNotify("ğŸ•·ï¸ TP SVC","Teleport Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½",T.Red,3,{"teleport"},true)
                return
            end
            return oldNC(self, ...)
        end) or function(self, ...)
            local method = (getnamecallmethod and getnamecallmethod()) or ""
            if method == "Kick" and self == LP then return end
            return oldNC(self, ...)
        end

        if setreadonly then setreadonly(mt, true) end
    end)
end

-- â”€â”€ Ğ¡Ğ›ĞĞ™ 3: Humanoid __newindex â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spHookHumanoid(h)
    if not (h and getrawmetatable) then return end
    pcall(function()
        local orig = getrawmetatable(h)
        if not orig then return end
        _SP.meta[h] = orig
        local oldNI = rawget(orig, "__newindex") or rawset
        if setreadonly then setreadonly(orig, false) end

        orig.__newindex = newcclosure and newcclosure(function(self, key, val)
            if not Cfg.Spider.On then
                return oldNI and oldNI(self,key,val) or rawset(self,key,val)
            end
            if key=="WalkSpeed"    then val=Cfg.Speed.On and Cfg.Speed.Value or 16 end
            if key=="JumpPower"    then val=Cfg.InfJump.On and Cfg.InfJump.Power or 50 end
            if key=="MaxHealth"    and type(val)=="number" and val<100 then return end
            if key=="Health"       and type(val)=="number" and val<=0  then return end
            if key=="PlatformStand" and val==true and not flyActive    then return end
            if key=="Sit"          and val==true then return end
            if key=="JumpEnabled"  and val==false then return end
            if key=="AutoRotate"   and val==false then return end
            return oldNI and oldNI(self,key,val) or rawset(self,key,val)
        end) or function(self,key,val)
            if key=="WalkSpeed" then val=Cfg.Speed.On and Cfg.Speed.Value or 16 end
            if key=="JumpPower" then val=Cfg.InfJump.On and Cfg.InfJump.Power or 50 end
            if key=="PlatformStand" and val==true then return end
            if key=="Sit" and val==true then return end
            rawset(self,key,val)
        end

        if setreadonly then setreadonly(orig, true) end
    end)
end

-- â”€â”€ Ğ¡Ğ›ĞĞ™ 4: Humanoid __index ÑĞ¿ÑƒÑ„ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spHookHumanoidIndex(h)
    if not (h and getrawmetatable) then return end
    pcall(function()
        local orig = getrawmetatable(h)
        if not orig then return end
        local oldIDX = rawget(orig, "__index")
        if setreadonly then setreadonly(orig, false) end
        orig.__index = newcclosure and newcclosure(function(self, key)
            if Cfg.Spider.On then
                if key=="WalkSpeed" and Cfg.Speed.On then return 16 end
                if key=="JumpPower" and Cfg.InfJump.On then return 50 end
            end
            if type(oldIDX)=="function" then return oldIDX(self,key) end
            return rawget(self,key)
        end) or (type(oldIDX)=="function" and oldIDX or nil)
        if setreadonly then setreadonly(orig, true) end
    end)
end

-- â”€â”€ Ğ¡Ğ›ĞĞ™ 5: Workspace â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spHookWorkspace()
    if _SP.wsHooked then return end _SP.wsHooked = true
    _origGravity = workspace.Gravity
    pcall(function()
        workspace:GetPropertyChangedSignal("Gravity"):Connect(function()
            if Cfg.Spider.On and workspace.Gravity ~= _origGravity then
                pcall(function() workspace.Gravity = _origGravity end)
                spNotify("ğŸ•·ï¸ GRAVITY","Ğ“Ñ€Ğ°Ğ²Ğ¸Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ°",T.Red,2,{"gravity"},true)
            end
        end)
        workspace:GetPropertyChangedSignal("FallenPartsDestroyHeight"):Connect(function()
            if Cfg.Spider.On then pcall(function() workspace.FallenPartsDestroyHeight=-500 end) end
        end)
    end)
end

-- â”€â”€ Ğ¡Ğ›ĞĞ™ 6: DescendantAdded + LLM inference â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spDescMonitor()
    local c = game.DescendantAdded:Connect(function(obj)
        if not Cfg.Spider.On then return end
        task.defer(function()
            pcall(function()
                local ok, name = pcall(function() return obj.Name end)
                if not ok then return end

                -- LLM forward pass
                local isThreat, score, tokens = llmIsThreat(
                    name,
                    1.0 + BRAIN.anomalyScore * 0.5
                )

                if isThreat then
                    llmLearnThreat(tokens, true, score)
                    if obj:IsA("Script") or obj:IsA("LocalScript") then
                        obj.Disabled = true
                        if score >= 0.75 then
                            spNotify("ğŸ•·ï¸ SCRIPT","LLM["..string.format("%.2f",score).."]: "..name,T.Yellow,2,tokens,true)
                        end
                    elseif obj:IsA("RemoteEvent") or obj:IsA("RemoteFunction") then
                        -- Ğ£Ğ±Ğ¸Ğ²Ğ°ĞµĞ¼ ÑĞ¾ĞµĞ´Ğ¸Ğ½ĞµĞ½Ğ¸Ñ Ğ¿Ğ¾Ğ´Ğ¾Ğ·Ñ€Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğ³Ğ¾ Ñ€ĞµĞ¼Ğ¾ÑƒÑ‚Ğ°
                        if getconnections then
                            for _, sig in ipairs({"OnClientEvent"}) do
                                pcall(function()
                                    for _, conn in pairs(getconnections(obj[sig])) do
                                        pcall(function() conn:Disconnect() end)
                                    end
                                end)
                            end
                        end
                    end
                else
                    -- Ğ‘ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹Ğ¹ Ğ¾Ğ±ÑŠĞµĞºÑ‚ â†’ negative learning
                    llmLearnThreat(tokens, false, 0.2)
                end

                -- Ragdoll cleanup
                local ch = Char()
                if (obj:IsA("BallSocketConstraint") or obj:IsA("HingeConstraint"))
                    and ch and obj:IsDescendantOf(ch) then
                    pcall(function() obj.Enabled = false end)
                end
            end)
        end)
    end)
    table.insert(_SP.conns, c)
end

-- â”€â”€ Ğ¡Ğ›ĞĞ™ 7: GUI / Backpack monitor â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spGuiMonitor()
    local function monitorParent(parent)
        if not parent then return end
        local c = parent.DescendantAdded:Connect(function(obj)
            if not Cfg.Spider.On then return end
            if obj:IsA("LocalScript") or obj:IsA("Script") then
                local ok, name = pcall(function() return obj.Name end)
                if ok then
                    local isThreat, score, tokens = llmIsThreat(name, 1.0)
                    if isThreat then
                        pcall(function() obj.Disabled = true end)
                        llmLearnThreat(tokens, true, score)
                    end
                end
            end
        end)
        table.insert(_SP.conns, c)
    end
    monitorParent(LP:FindFirstChild("PlayerGui"))
    monitorParent(LP:FindFirstChild("Backpack"))
    -- AntiDestroy
    if GUI then
        pcall(function()
            GUI.AncestryChanged:Connect(function()
                if Cfg.Spider.On and not GUI.Parent then
                    pcall(function() GUI.Parent = game.CoreGui end)
                    spNotify("ğŸ•·ï¸ GUI","GUI Ğ²Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½",T.Acc2,2)
                end
            end)
        end)
    end
end

-- â”€â”€ Ğ¡Ğ›ĞĞ™ 8: Smart Remote Guard (LLM + whitelist) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spRemoteGuard()
    local tracked = {}
    local function trackRemote(v)
        if not v:IsA("RemoteEvent") or tracked[v] then return end
        local ok, name = pcall(function() return v.Name end)
        if not ok then return end
        -- Ğ¡Ñ€Ğ°Ğ·Ñƒ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ Ñ‡ĞµÑ€ĞµĞ· LLM
        local isThreat, score, tokens = llmIsThreat(name, 1.0)
        if isThreat then
            if getconnections then
                pcall(function()
                    for _, conn in pairs(getconnections(v.OnClientEvent)) do
                        pcall(function() conn:Disconnect() end)
                    end
                end)
            end
            llmLearnThreat(tokens, true, score)
            return
        end
        llmLearnThreat(tokens, false, 0.2)
        tracked[v] = {calls=0, last=tick()}
        local conn conn = v.OnClientEvent:Connect(function()
            if not Cfg.Spider.On then
                pcall(function() conn:Disconnect() end) tracked[v]=nil return
            end
            local t = tracked[v]
            if not t then return end
            local now = tick()
            if now - t.last > 1 then t.calls=0 t.last=now end
            t.calls = t.calls + 1
            if t.calls > LLM.model.floodLimit then
                pcall(function() conn:Disconnect() end)
                tracked[v] = nil
                local _, _, toks = llmIsThreat(name, 1.2)
                llmLearnThreat(toks, true, 0.8)
                spNotify("ğŸ•·ï¸ FLOOD","Remote ÑÑ€ÑƒĞ±Ğ»ĞµĞ½: "..name,T.Yellow,1.5,toks,true)
            end
        end)
        table.insert(_SP.conns, conn)
    end
    -- Ğ¡ÑƒÑ‰ĞµÑÑ‚Ğ²ÑƒÑÑ‰Ğ¸Ğµ Ñ€ĞµĞ¼Ğ¾ÑƒÑ‚Ñ‹
    task.spawn(function()
        task.wait(0.5)
        for _, v in pairs(game:GetDescendants()) do
            if v:IsA("RemoteEvent") then pcall(function() trackRemote(v) end) end
        end
    end)
    local c = game.DescendantAdded:Connect(function(obj)
        if Cfg.Spider.On then pcall(function() trackRemote(obj) end) end
    end)
    table.insert(_SP.conns, c)
end

-- â”€â”€ Ğ¡Ğ›ĞĞ™ 9: Animation guard â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spAnimGuard(h)
    local c = h.AnimationPlayed:Connect(function(track)
        if not Cfg.Spider.On then return end
        local name = track.Name:lower()
        local isBad = name:find("ragdoll") or name:find("stun") or name:find("die")
                   or name:find("death")   or name:find("knocked") or name:find("freeze")
        if isBad then
            pcall(function() track:AdjustSpeed(0) track:Stop(0) end)
            local _, _, toks = llmIsThreat(name, 1.0)
            llmLearnThreat(toks, true, 0.7)
        end
    end)
    table.insert(_SP.conns, c)
end

-- â”€â”€ Ğ¡Ğ›ĞĞ™ 10: DataStore + Players BanAsync â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spHookServices()
    -- DataStore
    pcall(function()
        local DS = game:GetService("DataStoreService")
        if not DS then return end
        local mt = getrawmetatable and getrawmetatable(DS)
        if not mt then return end
        local oldNC = rawget(mt, "__namecall")
        if not oldNC then return end
        if setreadonly then setreadonly(mt,false) end
        mt.__namecall = newcclosure and newcclosure(function(self,...)
            local method = (getnamecallmethod and getnamecallmethod()) or ""
            if Cfg.Spider.On and (method=="SetAsync" or method=="UpdateAsync") then
                local args = {...}
                local key = tostring(args[1] or "")
                local isThreat, score, toks = llmIsThreat(key, 1.1)
                if isThreat then
                    spNotify("ğŸ•·ï¸ DS BAN","Ğ‘Ğ»Ğ¾Ğº DataStore Ğ·Ğ°Ğ¿Ğ¸ÑĞ¸: "..key:sub(1,16),T.Red,4,toks,true)
                    return nil
                end
            end
            return oldNC(self,...)
        end) or oldNC
        if setreadonly then setreadonly(mt,true) end
    end)
    -- Players
    pcall(function()
        local mt = getrawmetatable and getrawmetatable(Players)
        if not mt then return end
        local oldNC = rawget(mt,"__namecall")
        if not oldNC then return end
        if setreadonly then setreadonly(mt,false) end
        mt.__namecall = newcclosure and newcclosure(function(self,...)
            local method = (getnamecallmethod and getnamecallmethod()) or ""
            if Cfg.Spider.On and (method=="BanAsync" or method=="KickAsync") then
                spNotify("ğŸ•·ï¸ PLAYERS","Players:"..method.." Ğ·Ğ°Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€Ğ¾Ğ²Ğ°Ğ½",T.Red,4,{"ban","async"},true)
                return
            end
            return oldNC(self,...)
        end) or oldNC
        if setreadonly then setreadonly(mt,true) end
    end)
end

-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
--  Ğ•Ğ”Ğ˜ĞĞ«Ğ™ HEARTBEAT ĞŸĞ›ĞĞĞ˜Ğ ĞĞ’Ğ©Ğ˜Ğš â€” Ğ½ÑƒĞ»ĞµĞ²Ğ¾Ğ¹ Ğ»Ğ°Ğ³
--  Ğ’ÑĞµ Ñ‚ÑĞ¶Ñ‘Ğ»Ñ‹Ğµ Ğ¾Ğ¿ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸ Ñ€Ğ°Ğ·Ğ½ĞµÑĞµĞ½Ñ‹ Ğ¿Ğ¾ Ğ²Ñ€ĞµĞ¼ĞµĞ½Ğ¸, Ğ½Ğ¸ĞºĞ¾Ğ³Ğ´Ğ° Ğ½Ğµ ĞºĞ¾Ğ½ĞºÑƒÑ€Ğ¸Ñ€ÑƒÑÑ‚
-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
local _spHB = nil

local function spStartHeartbeat(h)
    if _spHB then pcall(function() _spHB:Disconnect() end) end

    -- â”€â”€ Ğ’ÑĞ¿Ğ¾Ğ¼Ğ¾Ğ³Ğ°Ñ‚ĞµĞ»ÑŒĞ½Ñ‹Ğµ Ğ¿ĞµÑ€ĞµĞ¼ĞµĞ½Ğ½Ñ‹Ğµ Ğ´Ğ»Ñ Ğ¿Ğ»Ğ°Ğ²Ğ½Ğ¾Ğ³Ğ¾ Anti-TP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    -- ĞĞ¿Ñ€ĞµĞ´ĞµĞ»ÑĞµĞ¼ Â«Ğ±ĞµĞ·Ğ¾Ğ¿Ğ°ÑĞ½Ñ‹ĞµÂ» ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ñ Ğ² ĞºĞ¾Ñ‚Ğ¾Ñ€Ñ‹Ñ… Ğ±Ğ¾Ğ»ÑŒÑˆĞ¾Ğ¹ Ğ¿Ñ€Ñ‹Ğ¶Ğ¾Ğº â€” Ğ½Ğ¾Ñ€Ğ¼Ğ°
    local function isSafeState()
        if flyActive then return true end
        if not h or not h.Parent then return true end
        local st = h:GetState()
        -- ĞŸÑ€Ñ‹Ğ¶Ğ¾Ğº, Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ, ÑĞ²Ğ¾Ğ±Ğ¾Ğ´Ğ½Ğ¾Ğµ Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğµ = Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¾Ğµ Ğ´Ğ²Ğ¸Ğ¶ĞµĞ½Ğ¸Ğµ, Ğ½Ğµ TP
        return st == Enum.HumanoidStateType.Jumping
            or st == Enum.HumanoidStateType.Freefall
            or st == Enum.HumanoidStateType.Landed
            or st == Enum.HumanoidStateType.Climbing
    end

    -- Ğ—Ğ°Ğ´ĞµÑ€Ğ¶ĞºĞ° Ğ¿Ğ¾ÑĞ»Ğµ ÑĞ¼ĞµÑ€Ñ‚Ğ¸/respawn: ÑĞ±Ñ€Ğ°ÑÑ‹Ğ²Ğ°ĞµĞ¼ lastSafePos
    local _graceUntil = 0  -- Ğ´Ğ¾ ÑÑ‚Ğ¾Ğ³Ğ¾ Ñ‚Ğ¸ĞºĞ° Ğ½Ğµ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµĞ¼ TP
    local _respawnConn = LP.CharacterAdded:Connect(function()
        _SP._lastSafePos = nil
        _graceUntil = tick() + 3  -- 3Ñ Ğ¿Ğ¾ÑĞ»Ğµ respawn Ğ½Ğµ Ğ±Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµĞ¼
    end)
    table.insert(_SP.conns, _respawnConn)

    -- ĞŸĞ»Ğ°Ğ½Ğ¸Ñ€Ğ¾Ğ²Ñ‰Ğ¸Ğº
    local sched = {
        -- â”€â”€ 10fps: property guards (Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞµÑĞ»Ğ¸ Ğ·Ğ½Ğ°Ñ‡ĞµĞ½Ğ¸Ğµ Ñ€ĞµĞ°Ğ»ÑŒĞ½Ğ¾ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ¾ÑÑŒ) â”€
        -- Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¾ Ñ 20fps Ğ´Ğ¾ 10fps â€” Ğ´Ğ¾ÑÑ‚Ğ°Ñ‚Ğ¾Ñ‡Ğ½Ğ¾, Ğ½Ğµ Ğ´Ñ‘Ñ€Ğ³Ğ°ĞµÑ‚ Ñ„Ğ¸Ğ·Ğ¸ĞºÑƒ ĞºĞ°Ğ¶Ğ´Ñ‹Ğ¹ ĞºĞ°Ğ´Ñ€
        {iv=0.10, t=0, fn=function()
            if not Cfg.Spider.On then return end
            pcall(function()
                -- WalkSpeed: Ğ¿Ğ¸ÑˆĞµĞ¼ Ğ¢ĞĞ›Ğ¬ĞšĞ ĞµÑĞ»Ğ¸ AC Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ» ĞµĞ³Ğ¾ (Ğ½Ğµ Ğ¼Ñ‹)
                if Cfg.Speed.On and h and h.Parent then
                    local ws = h.WalkSpeed
                    if math.abs(ws - Cfg.Speed.Value) > 0.5 then
                        h.WalkSpeed = Cfg.Speed.Value
                    end
                end
                -- JumpPower: Ğ°Ğ½Ğ°Ğ»Ğ¾Ğ³Ğ¸Ñ‡Ğ½Ğ¾
                if Cfg.InfJump.On and h and h.Parent then
                    local jp = h.JumpPower
                    if math.abs(jp - Cfg.InfJump.Power) > 0.5 then
                        h.JumpPower = Cfg.InfJump.Power
                    end
                end
                -- JumpEnabled
                if h and h.Parent and not h.JumpEnabled then
                    h.JumpEnabled = true
                end
                -- Gravity: Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞµÑĞ»Ğ¸ Ğ¸Ğ·Ğ¼ĞµĞ½Ğ¸Ğ»Ğ°ÑÑŒ
                if _origGravity and math.abs(workspace.Gravity - _origGravity) > 0.1 then
                    workspace.Gravity = _origGravity
                end
            end)
        end},

        -- â”€â”€ 5fps: Anti-TP â€” Ğ¿Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹, Ğ½Ğµ ĞºĞ¾Ğ»Ğ±Ğ°ÑĞ¸Ñ‚ ĞºĞ°Ğ¼ĞµÑ€Ñƒ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        -- Ğ¡Ğ½Ğ¸Ğ¶ĞµĞ½Ğ¾ Ñ 10fps Ğ´Ğ¾ 5fps. ĞŸÑ€Ğ¾Ğ²ĞµÑ€ÑĞµĞ¼ ÑĞ¾ÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ° Ğ¿ĞµÑ€ĞµĞ´ Ğ±Ğ»Ğ¾ĞºĞ¾Ğ¼.
        {iv=0.20, t=0, fn=function()
            if not Cfg.Spider.On then return end
            if tick() < _graceUntil then return end  -- grace period Ğ¿Ğ¾ÑĞ»Ğµ respawn
            pcall(function()
                local r = Root()
                if not r then _SP._lastSafePos = nil return end
                local cf = r.CFrame

                if _SP._lastSafePos then
                    local dist = (cf.Position - _SP._lastSafePos.Position).Magnitude
                    local threshold = LLM.model.tpThreshold or Cfg.Spider.Threshold or 40

                    -- Ğ‘Ğ»Ğ¾ĞºĞ¸Ñ€ÑƒĞµĞ¼ Ğ¢ĞĞ›Ğ¬ĞšĞ ĞµÑĞ»Ğ¸:
                    -- 1. Ğ”Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ Ğ±Ğ¾Ğ»ÑŒÑˆĞµ Ğ¿Ğ¾Ñ€Ğ¾Ğ³Ğ°
                    -- 2. ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶ ĞĞ• Ğ² Ğ¿Ñ€Ñ‹Ğ¶ĞºĞµ/Ğ¿Ğ°Ğ´ĞµĞ½Ğ¸Ğ¸ (Ğ¸Ğ½Ğ°Ñ‡Ğµ ÑÑ‚Ğ¾ Ğ½Ğ¾Ñ€Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ„Ğ¸Ğ·Ğ¸ĞºĞ°)
                    -- 3. ĞĞµ Ğ»ĞµÑ‚Ğ¸Ğ¼
                    if dist > threshold and not isSafeState() then
                        -- ĞŸĞ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ²Ğ¾Ğ·Ğ²Ñ€Ğ°Ñ‚ Ñ‡ĞµÑ€ĞµĞ· CFrame Ğ±ĞµĞ· Ğ¶Ñ‘ÑÑ‚ĞºĞ¾Ğ³Ğ¾ ÑĞ½Ğ°Ğ¿Ğ°
                        -- Ğ˜ÑĞ¿Ğ¾Ğ»ÑŒĞ·ÑƒĞµĞ¼ lerp Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ ĞºĞ°Ğ¼ĞµÑ€Ğ° Ğ½Ğµ Ğ´Ñ‘Ñ€Ğ³Ğ°Ğ»Ğ°ÑÑŒ
                        local safePos = _SP._lastSafePos
                        pcall(function()
                            r.CFrame = safePos
                            -- Ğ¡Ğ±Ñ€Ğ°ÑÑ‹Ğ²Ğ°ĞµĞ¼ velocity Ñ‡Ñ‚Ğ¾Ğ±Ñ‹ Ğ½Ğµ Ğ±Ñ‹Ğ»Ğ¾ Ñ€Ñ‹Ğ²ĞºĞ°
                            local rv = r:FindFirstChildOfClass("BodyVelocity")
                            if not rv then
                                rv = Instance.new("BodyVelocity")
                                rv.MaxForce = Vector3.new(1e5,1e5,1e5)
                                rv.Velocity = Vector3.new(0,0,0)
                                rv.P = 1e4
                                rv.Parent = r
                                game:GetService("Debris"):AddItem(rv, 0.1)
                            end
                        end)
                        LLM.memory.hitCount = (LLM.memory.hitCount or 0) + 1
                        llmLearnThreat({"teleport","back","forced"}, true, 0.9)
                        spNotify("ğŸ•·ï¸ ANTI-TP","ĞÑ‚ĞºĞ°Ñ‚ "..math.floor(dist).."st",T.Red,2)
                        return
                    end
                end
                _SP._lastSafePos = cf

                -- HP guard (Ğ¼ÑĞ³ĞºĞ¸Ğ¹ â€” Ğ½Ğµ Ğ¿Ğ¸ÑˆĞµĞ¼ ĞµÑĞ»Ğ¸ Ğ¿Ğ¾Ñ‡Ñ‚Ğ¸ Ğ¿Ğ¾Ğ»Ğ½Ğ¾Ğµ HP)
                if h and h.Parent and h.MaxHealth > 0 then
                    if h.Health < h.MaxHealth * 0.05 then
                        h.Health = h.MaxHealth
                    end
                end
                -- Sit / PlatformStand
                if h and h.Parent then
                    if h.Sit then pcall(function() h.Sit=false end) end
                    if h.PlatformStand and not flyActive then
                        pcall(function() h.PlatformStand=false end)
                    end
                end
            end)
        end},

        -- â”€â”€ 2fps: ragdoll cleanup (Ğ¼ĞµĞ´Ğ»ĞµĞ½Ğ½ĞµĞµ = Ğ¼ĞµĞ½ÑŒÑˆĞµ Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¸Ñ… Ñ‚Ğ¾Ğ»Ñ‡ĞºĞ¾Ğ²) â”€â”€â”€â”€
        {iv=0.50, t=0, fn=function()
            if not Cfg.Spider.On then return end
            pcall(function()
                local ch = Char()
                if not ch then return end
                for _, v in pairs(ch:GetDescendants()) do
                    if (v:IsA("BallSocketConstraint") or v:IsA("HingeConstraint")) and v.Enabled then
                        v.Enabled = false
                    end
                end
            end)
        end},

        -- â”€â”€ 1fps: LLM AI tick â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        {iv=1.0, t=0, fn=function()
            if not Cfg.Spider.On then return end
            pcall(function()
                for _, obj in pairs(game:GetDescendants()) do
                    if obj:IsA("LocalScript") or obj:IsA("Script") or obj:IsA("RemoteEvent") then
                        local ok, name = pcall(function() return obj.Name end)
                        if ok and name then
                            local isThreat, score, tokens = llmIsThreat(name, 1.0 + BRAIN.anomalyScore*0.3)
                            if isThreat then
                                llmLearnThreat(tokens, true, score)
                                if obj:IsA("LocalScript") or obj:IsA("Script") then
                                    pcall(function() obj.Disabled = true end)
                                end
                            else
                                llmLearnThreat(tokens, false, 0.1)
                            end
                        end
                    end
                end
                llmGeneratePatterns()
                LLM.model.generation = LLM.model.generation + 1
            end)
        end},

        -- â”€â”€ 3Ñ: LLM Ğ°Ğ´Ğ°Ğ¿Ñ‚Ğ°Ñ†Ğ¸Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        {iv=3.0, t=0, fn=function()
            if not Cfg.Spider.On then return end
            pcall(function()
                llmAdaptParams()
                sched[4].iv = math.max(0.5, LLM.model.scanInterval)
            end)
        end},

        -- â”€â”€ 30Ñ: NetworkOwnership â€” Ğ£Ğ‘Ğ ĞĞĞ Ğ¸Ğ· Ñ‡Ğ°ÑÑ‚Ğ¾Ğ³Ğ¾ Ñ†Ğ¸ĞºĞ»Ğ° â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        -- SetNetworkOwner Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°Ğ» Ñ„Ğ¸Ğ·Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹ Ñ€Ñ‹Ğ²Ğ¾Ğº ĞºĞ°Ğ¶Ğ´Ñ‹Ğµ 6Ñ.
        -- Ğ¢ĞµĞ¿ĞµÑ€ÑŒ Ğ²Ñ‹Ğ·Ñ‹Ğ²Ğ°ĞµÑ‚ÑÑ Ñ€ĞµĞ´ĞºĞ¾ Ğ¸ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ Ğ¿Ñ€Ğ¸ Ğ½ĞµĞ¾Ğ±Ñ…Ğ¾Ğ´Ğ¸Ğ¼Ğ¾ÑÑ‚Ğ¸.
        {iv=30.0, t=0, fn=function()
            if not Cfg.Spider.On then return end
            pcall(function()
                local ch = Char() if not ch then return end
                local root = ch:FindFirstChild("HumanoidRootPart")
                -- Ğ¢Ğ¾Ğ»ÑŒĞºĞ¾ ĞºĞ¾Ñ€Ğ½ĞµĞ²ÑƒÑ Ñ‡Ğ°ÑÑ‚ÑŒ, Ğ½Ğµ Ğ²ÑĞµ BaseParts â€” Ğ¼ĞµĞ½ÑŒÑˆĞµ physics disruption
                if root then
                    pcall(function() root:SetNetworkOwner(nil) end)
                end
            end)
        end},
    }

    _spHB = RunService.Heartbeat:Connect(function()
        if not Cfg.Spider.On then return end
        local now = tick()
        for i = 1, #sched do
            local t = sched[i]
            if now - t.t >= t.iv then
                t.t = now
                t.fn()
            end
        end
    end)
    table.insert(_SP.conns, _spHB)
end

-- â”€â”€ STOP / START â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function StopSpider()
    Cfg.Spider.On = false
    for _, c in pairs(_SP.conns) do pcall(function() c:Disconnect() end) end
    _SP.conns = {}
    for obj, mt in pairs(_SP.meta) do pcall(function() setmetatable(obj, mt) end) end
    _SP.meta = {}
    _SP.running = false
    _SP._lastSafePos = nil
    _SP._remoteCache = {}
    if _spHB then pcall(function() _spHB:Disconnect() end) _spHB=nil end
end

local function StartSpider(h)
    StopSpider()
    if not h then return end
    Cfg.Spider.On = true
    _SP.running = true
    _SP._lastSafePos = nil

    -- Hooks
    spHookGameMeta()        -- Ğ¡Ğ»Ğ¾Ğ¹ 1+2: __namecall + Brain
    spHookHumanoid(h)       -- Ğ¡Ğ»Ğ¾Ğ¹ 3:   __newindex Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ğ°
    spHookHumanoidIndex(h)  -- Ğ¡Ğ»Ğ¾Ğ¹ 4:   __index ÑĞ¿ÑƒÑ„
    spHookWorkspace()       -- Ğ¡Ğ»Ğ¾Ğ¹ 5:   Gravity guard
    spDescMonitor()         -- Ğ¡Ğ»Ğ¾Ğ¹ 6:   DescendantAdded + LLM
    spGuiMonitor()          -- Ğ¡Ğ»Ğ¾Ğ¹ 7:   GUI/Backpack/AntiDestroy
    spRemoteGuard()         -- Ğ¡Ğ»Ğ¾Ğ¹ 8:   Smart Remote + LLM whitelist
    spAnimGuard(h)          -- Ğ¡Ğ»Ğ¾Ğ¹ 9:   Animation block
    spHookServices()        -- Ğ¡Ğ»Ğ¾Ğ¹ 10:  DataStore + Players

    -- Ğ•Ğ´Ğ¸Ğ½Ñ‹Ğ¹ Heartbeat (Ğ²ÑĞµ Ñ‚Ğ°Ğ¹Ğ¼ĞµÑ€Ñ‹ Ğ²Ğ½ÑƒÑ‚Ñ€Ğ¸)
    spStartHeartbeat(h)

    -- ĞŸĞµÑ€Ğ²Ğ¸Ñ‡Ğ½Ğ°Ñ Ğ·Ğ°Ñ‡Ğ¸ÑÑ‚ĞºĞ° (async)
    task.spawn(function()
        task.wait(0.3)
        local ch = Char()
        if ch then
            for _, p in pairs(ch:GetDescendants()) do
                if p:IsA("BasePart") and getconnections then
                    for _, sig in ipairs({"Touched","TouchEnded"}) do
                        pcall(function()
                            for _, conn in pairs(getconnections(p[sig])) do
                                pcall(function() conn:Disconnect() end)
                            end
                        end)
                    end
                end
            end
        end
    end)

    task.defer(function()
        if type(Notify)=="function" then
            Notify("ğŸ•·ï¸ SPIDER v1.3","LLM Brain ONLINE Â· Vocab:"..LLM.model.vocabSize.." Â· Zero-Lag",T.Acc2,5)
        end
    end)
end

-- â”€â”€ LLM STATUS API (Ğ´Ğ»Ñ UI ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function spGetLLMStatus()
    local precision = LLM.model.truePositives / math.max(LLM.model.truePositives + LLM.model.falsePositives, 1)
    return {
        generation   = LLM.model.generation,
        confidence   = math.floor(LLM.model.confidence * 100),
        precision    = math.floor(precision * 100),
        vocabSize    = LLM.model.vocabSize,
        learnedWords = (function()
            local n=0 for _, e in pairs(LLM.vocab) do if e.learned or e.generated then n=n+1 end end return n
        end)(),
        tp           = LLM.model.truePositives,
        fp           = LLM.model.falsePositives,
        threshold    = string.format("%.2f", LLM.model.threshold),
        lr           = string.format("%.4f", LLM.model.learningRate),
        tpThreshold  = math.floor(LLM.model.tpThreshold or Cfg.Spider.Threshold or 40),
        floodLimit   = LLM.model.floodLimit,
        scanInterval = string.format("%.1f", LLM.model.scanInterval),
        anomaly      = math.floor(BRAIN.anomalyScore * 100),
        memThreats   = #LLM.memory.threats,
        memSafe      = #LLM.memory.safe,
    }
end

-- ĞĞ»Ğ¸Ğ°ÑÑ‹ (ÑĞ¾Ğ²Ğ¼ĞµÑÑ‚Ğ¸Ğ¼Ğ¾ÑÑ‚ÑŒ)
local function StopAntiAC() StopSpider() end
local function StartAntiAC(h) StartSpider(h) end
local function StopAntiTP() _SP._lastSafePos=nil end
local function StartAntiTP() end
-- â”€â”€ Anti Lag â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local _antiLagConns={}
local _antiLagRunning=false

local function StopAntiLag()
    for _,c in pairs(_antiLagConns) do pcall(function()c:Disconnect()end) end
    _antiLagConns={}
    _antiLagRunning=false
end

local function StartAntiLag()
    StopAntiLag()
    _antiLagRunning=true
    task.spawn(function()
        local tracked={}
        while _antiLagRunning and Cfg.AntiLag.On do
            pcall(function()
                for _,v in pairs(game:GetDescendants()) do
                    if v:IsA("RemoteEvent") and not tracked[v] then
                        tracked[v]=true
                        local calls=0 local last=tick()
                        local conn conn=v.OnClientEvent:Connect(function()
                            if not (Cfg.AntiLag.On and _antiLagRunning) then
                                pcall(function()conn:Disconnect()end) tracked[v]=nil return
                            end
                            local now=tick()
                            if now-last>1 then calls=0 last=now end
                            calls=calls+1
                            if calls>30 then
                                pcall(function()conn:Disconnect()end)
                                tracked[v]=nil
                                task.defer(function()
                                    if type(Notify)=="function" then
                                        Notify("ğŸ§¹ Anti-Lag","Ğ¡Ğ¿Ğ°Ğ¼ Remote ÑÑ€ÑƒĞ±Ğ»ĞµĞ½: "..v.Name,T.Yellow,1.5)
                                    end
                                end)
                            end
                        end)
                        table.insert(_antiLagConns,conn)
                    end
                end
            end)
            task.wait(2)
        end
    end)
    task.spawn(function()
        while _antiLagRunning and Cfg.AntiLag.On do
            pcall(function()
                for _,v in pairs(game:GetDescendants()) do
                    if v:IsA("LocalScript") or v:IsA("ModuleScript") then
                        local n=v.Name:lower()
                        if n:find("lag") or n:find("flood") or n:find("spam") or n:find("ddos") then
                            pcall(function()v.Disabled=true end)
                        end
                    end
                end
            end)
            task.wait(3)
        end
    end)
    task.spawn(function()
        local beCounts={}
        while _antiLagRunning and Cfg.AntiLag.On do
            pcall(function()
                for _,v in pairs(game:GetDescendants()) do
                    if v:IsA("BindableEvent") and not beCounts[v] then
                        beCounts[v]=0
                        local last=tick()
                        local conn conn=v.Event:Connect(function()
                            if not (Cfg.AntiLag.On and _antiLagRunning) then
                                pcall(function()conn:Disconnect()end) beCounts[v]=nil return
                            end
                            local now=tick()
                            if now-last>1 then beCounts[v]=0 last=now end
                            beCounts[v]=(beCounts[v] or 0)+1
                            if beCounts[v]>50 then
                                pcall(function()conn:Disconnect()end)
                                beCounts[v]=nil
                            end
                        end)
                        table.insert(_antiLagConns,conn)
                    end
                end
            end)
            task.wait(3)
        end
    end)
    task.defer(function()
        if type(Notify)=="function" then Notify("ğŸ§¹ Anti-Lag","3 ÑĞ»Ğ¾Ñ Ğ·Ğ°Ñ‰Ğ¸Ñ‚Ñ‹ Ğ²ĞºĞ»ÑÑ‡ĞµĞ½Ñ‹",T.Yellow,3) end
    end)
end

-- â”€â”€ FULLBRIGHT â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local _origLight={}
local function StartFullbright()
    _origLight.Brightness       = Lighting.Brightness
    _origLight.Ambient          = Lighting.Ambient
    _origLight.OutdoorAmbient   = Lighting.OutdoorAmbient
    _origLight.FogEnd           = Lighting.FogEnd
    _origLight.FogStart         = Lighting.FogStart
    _origLight.ClockTime        = Lighting.ClockTime
    pcall(function()
        Lighting.Brightness     = 2
        Lighting.Ambient        = Color3.new(1,1,1)
        Lighting.OutdoorAmbient = Color3.new(1,1,1)
        Lighting.FogEnd         = 100000
        Lighting.FogStart       = 100000
        Lighting.ClockTime      = 14
        -- ĞÑ‚ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ Atmosphere Ğ¸ ColorCorrection
        for _,v in pairs(Lighting:GetChildren()) do
            if v:IsA("Atmosphere") or v:IsA("ColorCorrectionEffect") or v:IsA("BloomEffect") then
                v.Enabled=false
            end
        end
    end)
end

local function StopFullbright()
    pcall(function()
        Lighting.Brightness     = _origLight.Brightness     or 1
        Lighting.Ambient        = _origLight.Ambient        or Color3.new(0,0,0)
        Lighting.OutdoorAmbient = _origLight.OutdoorAmbient or Color3.new(0.5,0.5,0.5)
        Lighting.FogEnd         = _origLight.FogEnd         or 100000
        Lighting.FogStart       = _origLight.FogStart       or 0
        Lighting.ClockTime      = _origLight.ClockTime      or 14
        for _,v in pairs(Lighting:GetChildren()) do
            if v:IsA("Atmosphere") or v:IsA("ColorCorrectionEffect") or v:IsA("BloomEffect") then
                v.Enabled=true
            end
        end
    end)
end

-- â”€â”€ ESP SYSTEM â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local espObjects = {}
local espConns   = {}

local function espHealthColor(h,maxH)
    local pct=math.clamp(h/math.max(maxH,1),0,1)
    if pct>0.6 then return Color3.fromRGB(80,220,120)
    elseif pct>0.3 then return Color3.fromRGB(240,200,60)
    else return Color3.fromRGB(220,70,70) end
end

local function espDistColor(dist)
    local pct=math.clamp(dist/200,0,1)
    -- Ğ±Ğ»Ğ¸Ğ·ĞºĞ¾ = ÑÑ€ĞºĞ¾-ĞºÑ€Ğ°ÑĞ½Ñ‹Ğ¹, Ğ´Ğ°Ğ»ĞµĞºĞ¾ = Ñ„Ğ¸Ğ¾Ğ»ĞµÑ‚Ğ¾Ğ²Ñ‹Ğ¹
    local r=math.floor(220*(1-pct)+110*pct)
    local g=math.floor(70*(1-pct)+80*pct)
    local b=math.floor(70*(1-pct)+255*pct)
    return Color3.fromRGB(r,g,b)
end

local function createESP(player)
    if espObjects[player] then return end
    if not player.Character then return end
    local char=player.Character
    local root=char:FindFirstChild("HumanoidRootPart")
    if not root then return end

    -- BillboardGui (always on top, ÑĞºĞ²Ğ¾Ğ·ÑŒ ÑÑ‚ĞµĞ½Ñ‹)
    local bg=Instance.new("BillboardGui")
    bg.Name="PelmenESP"
    bg.AlwaysOnTop=true
    bg.MaxDistance=Cfg.ESP.MaxDist
    bg.Size=UDim2.new(0,S(170),0,S(78))
    bg.StudsOffset=Vector3.new(0,3.2,0)
    bg.LightInfluence=0
    bg.Enabled=Cfg.ESP.On
    bg.Parent=root

    -- ĞœÑĞ³ĞºĞ¾Ğµ ÑĞ²ĞµÑ‡ĞµĞ½Ğ¸Ğµ Ğ¿Ğ¾Ğ·Ğ°Ğ´Ğ¸
    local glow=Instance.new("ImageLabel",bg)
    glow.Image="rbxassetid://5028857084"
    glow.Size=UDim2.new(1.6,0,2.2,0)
    glow.AnchorPoint=Vector2.new(0.5,0.5)
    glow.Position=UDim2.new(0.5,0,0.5,0)
    glow.BackgroundTransparency=1
    glow.ImageColor3=T.Acc
    glow.ImageTransparency=0.82
    glow.ZIndex=0

    -- Ğ¢Ñ‘Ğ¼Ğ½Ñ‹Ğ¹ Ñ„Ğ¾Ğ½-ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ°
    local card=Instance.new("Frame",bg)
    card.Size=UDim2.new(1,0,1,0)
    card.BackgroundColor3=Color3.fromRGB(6,6,12)
    card.BackgroundTransparency=0.38
    card.BorderSizePixel=0
    uiCorner(card,S(10))
    local cardStroke=uiStroke(card,T.Acc,1.4)

    -- Ğ˜ĞºĞ¾Ğ½ĞºĞ° Ğ¸Ğ³Ñ€Ğ¾ĞºĞ° (Ğ¿ĞµÑ€Ğ²Ğ°Ñ Ğ±ÑƒĞºĞ²Ğ° Ğ¸Ğ¼ĞµĞ½Ğ¸)
    local avatarBg=Instance.new("Frame",card)
    avatarBg.Size=UDim2.new(0,S(30),0,S(30))
    avatarBg.Position=UDim2.new(0,S(6),0.5,-S(15))
    avatarBg.BackgroundColor3=T.Acc
    avatarBg.BackgroundTransparency=0.35
    avatarBg.BorderSizePixel=0
    uiCorner(avatarBg,S(8))
    local avatarL=Instance.new("TextLabel",avatarBg)
    avatarL.Size=UDim2.new(1,0,1,0)
    avatarL.BackgroundTransparency=1
    avatarL.Text=player.Name:sub(1,1):upper()
    avatarL.TextColor3=T.White
    avatarL.Font=Enum.Font.GothamBold
    avatarL.TextSize=S(14)

    -- Ğ˜Ğ¼Ñ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ° Ñ Ñ‚ĞµĞ½ÑŒÑ
    local nameShadow=Instance.new("TextLabel",card)
    nameShadow.Size=UDim2.new(1,-S(44),0,S(19))
    nameShadow.Position=UDim2.new(0,S(43),0,S(5))
    nameShadow.BackgroundTransparency=1
    nameShadow.Text=player.Name
    nameShadow.TextColor3=Color3.new(0,0,0)
    nameShadow.TextTransparency=0.55
    nameShadow.Font=Enum.Font.GothamBold
    nameShadow.TextSize=S(11)
    nameShadow.TextXAlignment=Enum.TextXAlignment.Left
    nameShadow.ClipsDescendants=true

    local nameL=Instance.new("TextLabel",card)
    nameL.Size=UDim2.new(1,-S(44),0,S(19))
    nameL.Position=UDim2.new(0,S(42),0,S(4))
    nameL.BackgroundTransparency=1
    nameL.Text=player.Name
    nameL.TextColor3=T.Acc2
    nameL.Font=Enum.Font.GothamBold
    nameL.TextSize=S(11)
    nameL.TextXAlignment=Enum.TextXAlignment.Left
    nameL.ClipsDescendants=true

    -- Ğ Ğ°Ğ·Ğ´ĞµĞ»Ğ¸Ñ‚ĞµĞ»ÑŒ
    local divLine=Instance.new("Frame",card)
    divLine.Size=UDim2.new(0.82,0,0,1)
    divLine.Position=UDim2.new(0,S(42),0,S(24))
    divLine.BackgroundColor3=T.Border
    divLine.BorderSizePixel=0

    -- Ğ”Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ
    local distL=Instance.new("TextLabel",card)
    distL.Size=UDim2.new(1,-S(44),0,S(16))
    distL.Position=UDim2.new(0,S(42),0,S(27))
    distL.BackgroundTransparency=1
    distL.Text="ğŸ“ 0 studs"
    distL.TextColor3=T.Sub
    distL.Font=Enum.Font.Gotham
    distL.TextSize=S(9)
    distL.TextXAlignment=Enum.TextXAlignment.Left

    -- HP bar background
    local hpBG=Instance.new("Frame",card)
    hpBG.Size=UDim2.new(1,-S(14),0,S(7))
    hpBG.Position=UDim2.new(0,S(7),1,-S(14))
    hpBG.BackgroundColor3=Color3.fromRGB(18,18,32)
    hpBG.BorderSizePixel=0
    uiCorner(hpBG,S(4))
    local hpBGStroke=uiStroke(hpBG,T.Border,0.8)

    local hpFill=Instance.new("Frame",hpBG)
    hpFill.Size=UDim2.new(1,0,1,0)
    hpFill.BackgroundColor3=T.Green
    hpFill.BorderSizePixel=0
    uiCorner(hpFill,S(4))
    local hpGrad=Instance.new("UIGradient",hpFill)
    hpGrad.Color=ColorSequence.new{
        ColorSequenceKeypoint.new(0,Color3.fromRGB(100,255,140)),
        ColorSequenceKeypoint.new(1,Color3.fromRGB(60,200,100)),
    }

    -- % HP label
    local hpLabel=Instance.new("TextLabel",hpBG)
    hpLabel.Size=UDim2.new(0,S(36),1,0)
    hpLabel.Position=UDim2.new(1,-S(36),0,0)
    hpLabel.BackgroundTransparency=1
    hpLabel.TextColor3=T.White
    hpLabel.Font=Enum.Font.GothamBold
    hpLabel.TextSize=S(7)
    hpLabel.ZIndex=3

    -- SelectionBox Ğ²Ğ¾ĞºÑ€ÑƒĞ³ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶Ğ° (3D Ğ±Ğ¾ĞºÑ)
    local selBox=Instance.new("SelectionBox")
    selBox.Adornee=char  -- Ğ²ĞµÑÑŒ Ğ¿ĞµÑ€ÑĞ¾Ğ½Ğ°Ğ¶, Ğ½Ğµ Ñ‚Ğ¾Ğ»ÑŒĞºĞ¾ ĞºĞ¾Ñ€ĞµĞ½ÑŒ
    selBox.LineThickness=0.08
    selBox.Color3=T.Acc
    selBox.SurfaceTransparency=0.94
    selBox.SurfaceColor3=T.Acc
    selBox.Parent=bg

    -- Ğ›Ğ¸Ğ½Ğ¸Ñ ÑĞ½Ğ¸Ğ·Ñƒ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸ Ñ Ğ³Ñ€Ğ°Ğ´Ğ¸ĞµĞ½Ñ‚Ğ¾Ğ¼ (Ğ¸Ğ½Ğ´Ğ¸ĞºĞ°Ñ‚Ğ¾Ñ€ Ğ±Ğ»Ğ¸Ğ·Ğ¾ÑÑ‚Ğ¸)
    local bottomLine=Instance.new("Frame",card)
    bottomLine.Size=UDim2.new(1,0,0,S(2))
    bottomLine.Position=UDim2.new(0,0,1,-S(2))
    bottomLine.BackgroundColor3=T.Acc
    bottomLine.BorderSizePixel=0
    uiCorner(bottomLine,S(2))
    local blGrad=Instance.new("UIGradient",bottomLine)
    blGrad.Color=ColorSequence.new{
        ColorSequenceKeypoint.new(0,T.Acc),
        ColorSequenceKeypoint.new(0.5,T.Acc2),
        ColorSequenceKeypoint.new(1,T.Acc),
    }

    espObjects[player]={
        bg=bg, card=card, cardStroke=cardStroke, glow=glow,
        nameL=nameL, nameShadow=nameShadow, distL=distL,
        hpFill=hpFill, hpLabel=hpLabel, hpGrad=hpGrad,
        selBox=selBox, avatarBg=avatarBg, blGrad=blGrad,
        bottomLine=bottomLine
    }
end

local function removeESP(player)
    local o=espObjects[player]
    if o then
        pcall(function() o.bg:Destroy() end)
        pcall(function() o.selBox.Adornee=nil end)
        espObjects[player]=nil
    end
end

local function StopESP()
    for p,_ in pairs(espObjects) do removeESP(p) end
    espObjects={}
    for _,c in pairs(espConns) do pcall(function()c:Disconnect()end) end
    espConns={}
end

local function StartESP()
    StopESP()
    for _,p in pairs(Players:GetPlayers()) do
        if p~=LP then
            if p.Character then createESP(p) end
            local c1=p.CharacterAdded:Connect(function()
                task.wait(0.6)
                if Cfg.ESP.On then createESP(p) end
            end)
            table.insert(espConns,c1)
        end
    end
    local c2=Players.PlayerAdded:Connect(function(p)
        if p==LP then return end
        local c1=p.CharacterAdded:Connect(function()
            task.wait(0.6)
            if Cfg.ESP.On then createESP(p) end
        end)
        table.insert(espConns,c1)
    end)
    table.insert(espConns,c2)
    local c3=Players.PlayerRemoving:Connect(function(p) removeESP(p) end)
    table.insert(espConns,c3)
end

local function UpdateESP()
    if not Cfg.ESP.On then return end
    local myRoot=Root()
    local t=tick()
    for player,o in pairs(espObjects) do
        local ok=pcall(function()
            if not (player and player.Parent and player.Character) then
                removeESP(player) return
            end
            local char=player.Character
            local root=char:FindFirstChild("HumanoidRootPart")
            local h=char:FindFirstChildOfClass("Humanoid")
            if not (root and o.bg and o.bg.Parent) then return end

            -- Ğ”Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ
            local dist=0
            if myRoot then dist=math.floor((myRoot.Position-root.Position).Magnitude) end
            o.bg.MaxDistance=Cfg.ESP.MaxDist
            o.bg.Enabled = dist <= Cfg.ESP.MaxDist

            -- ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ñ‚ĞµĞºÑÑ‚ Ğ´Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ğ¸
            if Cfg.ESP.Dist then
                o.distL.Text="ğŸ“ "..dist.." st"
                o.distL.TextColor3=espDistColor(dist)
                o.distL.Visible=true
            else
                o.distL.Visible=false
            end

            -- Ğ˜Ğ¼Ñ
            o.nameL.Visible=Cfg.ESP.Names
            o.nameShadow.Visible=Cfg.ESP.Names

            -- Rainbow Ñ†Ğ²ĞµÑ‚ Ğ¸Ğ¼ĞµĞ½Ğ¸ Ğ¸ Ğ±Ğ¾ĞºÑĞ° (ÑƒĞ½Ğ¸ĞºĞ°Ğ»ÑŒĞ½Ñ‹Ğ¹ Ğ½Ğ° ĞºĞ°Ğ¶Ğ´Ğ¾Ğ³Ğ¾ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ°)
            local hue=(t*0.45+(player.UserId%100)*0.01)%1
            local col=Color3.fromHSV(hue,0.75,1)
            o.nameL.TextColor3=col
            o.cardStroke.Color=col
            o.selBox.Color3=col
            o.selBox.SurfaceColor3=col
            o.avatarBg.BackgroundColor3=col
            o.glow.ImageColor3=col

            -- ĞŸÑƒĞ»ÑŒÑĞ¸Ñ€ÑƒÑÑ‰Ğ¸Ğ¹ glow Ğ±Ğ»Ğ¸Ğ¶Ğµ = ÑÑ€Ñ‡Ğµ
            local glowAlpha=math.clamp(0.3+(1-dist/200)*0.5,0.2,0.75)
            o.glow.ImageTransparency=1-glowAlpha

            -- SelectionBox
            o.selBox.Enabled=Cfg.ESP.Box

            -- HP bar
            if h and Cfg.ESP.Health then
                local pct=math.clamp(h.Health/math.max(h.MaxHealth,1),0,1)
                Tw(o.hpFill,{Size=UDim2.new(pct,0,1,0)},0.12)
                o.hpFill.BackgroundColor3=espHealthColor(h.Health,h.MaxHealth)
                local pctInt=math.floor(pct*100)
                o.hpLabel.Text=pctInt.."%"
                o.hpLabel.TextColor3=espHealthColor(h.Health,h.MaxHealth)
                o.hpGrad.Color=ColorSequence.new{
                    ColorSequenceKeypoint.new(0,espHealthColor(h.Health,h.MaxHealth)),
                    ColorSequenceKeypoint.new(1,Color3.fromHSV(Color3.toHSV(espHealthColor(h.Health,h.MaxHealth)))),
                }
            end
            o.hpFill.Parent.Visible=Cfg.ESP.Health

            -- ĞĞ¸Ğ¶Ğ½ÑÑ Ğ»Ğ¸Ğ½Ğ¸Ñ Ğ¿ÑƒĞ»ÑŒÑĞ¸Ñ€ÑƒĞµÑ‚
            local lineW=0.3+0.7*math.sin(t*2+player.UserId)
            o.bottomLine.BackgroundTransparency=math.clamp(1-lineW*0.9,0.1,0.9)
        end)
    end
end

-- â”€â”€ Load screen â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function animLoad(BarFill,LoadStatus,pct,status)
    LoadStatus.Text=status
    Tw(BarFill,{Size=UDim2.new(pct,0,1,0)},0.55,Enum.EasingStyle.Quart)
end

local function buildLoadScreen()
    local LF=Instance.new("Frame",GUI)
    LF.Size=UDim2.new(1,0,1,0) LF.Position=UDim2.new(0,0,0,0)
    LF.BackgroundColor3=T.BG LF.BorderSizePixel=0 LF.ZIndex=9999
    local LGrad=Instance.new("UIGradient",LF)
    LGrad.Color=ColorSequence.new{
        ColorSequenceKeypoint.new(0,Color3.fromRGB(7,7,14)),
        ColorSequenceKeypoint.new(0.5,Color3.fromRGB(12,10,22)),
        ColorSequenceKeypoint.new(1,Color3.fromRGB(8,8,16)),
    }
    LGrad.Rotation=45
    local LC=Instance.new("Frame",LF)
    LC.AnchorPoint=Vector2.new(0.5,0.5) LC.Position=UDim2.new(0.5,0,0.5,0)
    LC.Size=UDim2.new(0,S(340),0,S(300)) LC.BackgroundTransparency=1 LC.ZIndex=10000
    local Glow=Instance.new("ImageLabel",LC)
    Glow.Image="rbxassetid://5028857084"
    Glow.Size=UDim2.new(0,S(200),0,S(200)) Glow.AnchorPoint=Vector2.new(0.5,0)
    Glow.Position=UDim2.new(0.5,0,0,-S(40)) Glow.BackgroundTransparency=1 Glow.ZIndex=9999
    Glow.ImageColor3=T.Acc Glow.ImageTransparency=0.65
    local LFb=Instance.new("TextLabel",LC)
    LFb.Text="ğŸ¥Ÿ" LFb.Size=UDim2.new(0,S(128),0,S(128)) LFb.AnchorPoint=Vector2.new(0.5,0)
    LFb.Position=UDim2.new(0.5,0,0,0) LFb.BackgroundTransparency=1 LFb.TextScaled=true LFb.ZIndex=10000
    local LT=Instance.new("TextLabel",LC)
    LT.Text="PELMEN PVP" LT.Size=UDim2.new(1,0,0,S(38)) LT.Position=UDim2.new(0,0,0,S(140))
    LT.BackgroundTransparency=1 LT.ZIndex=10001 LT.TextColor3=T.White
    LT.Font=Enum.Font.GothamBold LT.TextSize=S(30) LT.TextTransparency=1
    local LV=Instance.new("TextLabel",LC)
    LV.Text="v2.0  Â·  "..(IsMobile and "ğŸ“± Mobile" or "ğŸ–¥ï¸ PC").."  Â·  Safe"
    LV.Size=UDim2.new(1,0,0,S(18)) LV.Position=UDim2.new(0,0,0,S(182))
    LV.BackgroundTransparency=1 LV.ZIndex=10001 LV.TextColor3=T.Sub
    LV.Font=Enum.Font.Gotham LV.TextSize=S(11) LV.TextTransparency=1
    local LS=Instance.new("TextLabel",LC)
    LS.Text="Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ..." LS.Size=UDim2.new(1,0,0,S(16)) LS.Position=UDim2.new(0,0,0,S(212))
    LS.BackgroundTransparency=1 LS.ZIndex=10001 LS.TextColor3=T.Acc
    LS.Font=Enum.Font.Gotham LS.TextSize=S(11) LS.TextTransparency=1
    local BT=Instance.new("Frame",LC)
    BT.Size=UDim2.new(1,0,0,S(5)) BT.Position=UDim2.new(0,0,0,S(240))
    BT.BackgroundColor3=T.Border BT.BorderSizePixel=0 BT.ZIndex=10001 uiCorner(BT,S(6))
    local BF=Instance.new("Frame",BT)
    BF.Size=UDim2.new(0,0,1,0) BF.BackgroundColor3=T.Acc BF.BorderSizePixel=0 BF.ZIndex=10002 uiCorner(BF,S(6))
    local BG2=Instance.new("UIGradient",BF)
    BG2.Color=ColorSequence.new{ColorSequenceKeypoint.new(0,T.Acc),ColorSequenceKeypoint.new(1,T.Acc2)}
    addRainbowGrad(BG2,0.8,0)
    local LSub=Instance.new("TextLabel",LF)
    LSub.Text="Delta Â· Arceus X Â· Fluxus Â· Synapse  |  v2.0"
    LSub.Size=UDim2.new(1,0,0,S(20)) LSub.Position=UDim2.new(0,0,1,-S(30))
    LSub.BackgroundTransparency=1 LSub.ZIndex=10001 LSub.TextColor3=T.Sub
    LSub.Font=Enum.Font.Gotham LSub.TextSize=S(10) LSub.TextTransparency=1
    return LF,LFb,LT,LV,LS,BF,LSub,Glow
end

local LF,LImg,LT,LV,LS,BF,LSub,LGlow=buildLoadScreen()

local function finishLoad()
    animLoad(BF,LS,1.0,"Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾ âœ“")
    task.wait(0.7)
    Cfg.Spider.On=false StopSpider()
    local els={LF,LImg,LT,LV,LS,LSub}
    for _,e in pairs(els) do
        if e:IsA("TextLabel") or e:IsA("TextButton") then Tw(e,{TextTransparency=1},0.4)
        elseif e:IsA("ImageLabel") then Tw(e,{ImageTransparency=1},0.4)
        else Tw(e,{BackgroundTransparency=1},0.5) end
    end
    task.wait(0.55)
    if LF and LF.Parent then LF:Destroy() end
end

task.spawn(function()
    Tw(LImg,{TextTransparency=0},0.7,Enum.EasingStyle.Quart)
    Tw(LT,  {TextTransparency=0},0.8,Enum.EasingStyle.Quart)
    Tw(LV,  {TextTransparency=0},0.9,Enum.EasingStyle.Quart)
    Tw(LS,  {TextTransparency=0},0.6,Enum.EasingStyle.Quart)
    Tw(LSub,{TextTransparency=0},1.0,Enum.EasingStyle.Quart)
    task.wait(0.35)
    task.spawn(function()
        while LF and LF.Parent do
            Tw(LGlow,{ImageTransparency=0.4},1.0,Enum.EasingStyle.Sine)
            task.wait(1.05)
            if not (LF and LF.Parent) then break end
            Tw(LGlow,{ImageTransparency=0.75},1.0,Enum.EasingStyle.Sine)
            task.wait(1.05)
        end
    end)
    animLoad(BF,LS,0.1,"ĞĞ¶Ğ¸Ğ´Ğ°Ğ½Ğ¸Ğµ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ°...") task.wait(0.05)
    local _t0=tick()
    repeat task.wait(0.15) until (LP.Character and LP.Character:FindFirstChildOfClass("Humanoid")) or (tick()-_t0>8)
    animLoad(BF,LS,0.28,"Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ° Ğ¼Ğ¸Ñ€Ğ°...") task.wait(0.05)
    local _t1=tick()
    repeat task.wait(0.2) until game:IsLoaded() or (tick()-_t1>10)
    animLoad(BF,LS,0.45,"Ğ˜Ğ½Ğ¸Ñ†Ğ¸Ğ°Ğ»Ğ¸Ğ·Ğ°Ñ†Ğ¸Ñ UI...") task.wait(0.35)
    animLoad(BF,LS,0.60,"ESP + Fullbright...") task.wait(0.25)
    animLoad(BF,LS,0.74,"Anti-Cheat...") task.wait(0.25)
    animLoad(BF,LS,0.86,"ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ğµ ÑˆÑ‚Ñ€Ğ¸Ñ…Ğ¸...") task.wait(0.25)
    animLoad(BF,LS,0.95,"Ğ¤Ğ¸Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ğ¿Ñ€Ğ¾Ğ²ĞµÑ€ĞºĞ°...") task.wait(0.35)
    finishLoad()
end)

-- â”€â”€ Main window â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function winSize()
    local vx,vy=GetVP()
    local w=math.floor(math.clamp(vx*(IsMobile and 0.92 or 0.28),260,520))
    local h=math.floor(math.clamp(vy*(IsMobile and 0.82 or 0.80),400,820))
    return w,h
end
local WIN_W,WIN_H=winSize()
local CARD_H=S(IsMobile and 62 or 54)
local SLD_H =S(IsMobile and 72 or 64)
local FONT_L=S(13) local FONT_M=S(11) local FONT_S=S(10) local FONT_XS=S(9)

local Win=Instance.new("Frame",GUI)
Win.Name="MainWin"
Win.Size=UDim2.new(0,WIN_W,0,WIN_H)
Win.Position=UDim2.new(0,S(14),0.5,-WIN_H/2)
Win.BackgroundColor3=T.BG Win.BorderSizePixel=0
uiCorner(Win,S(20))
local winStroke=uiStroke(Win,T.Acc,1.6)
addRainbow(winStroke,1.0,0,0.75)

local WinClip=Instance.new("Frame",Win)
WinClip.Size=UDim2.new(1,0,1,0) WinClip.BackgroundTransparency=1 WinClip.BorderSizePixel=0 WinClip.ClipsDescendants=true
uiCorner(WinClip,S(20))

local TLine=Instance.new("Frame",WinClip)
TLine.Size=UDim2.new(1,0,0,S(3)) TLine.BackgroundColor3=T.Acc TLine.BorderSizePixel=0 TLine.ZIndex=10
local TLineGrad=Instance.new("UIGradient",TLine)
addRainbowGrad(TLineGrad,1.0,0)

local HEAD_H=S(58)
local Head=Instance.new("Frame",WinClip)
Head.Size=UDim2.new(1,0,0,HEAD_H) Head.Position=UDim2.new(0,0,0,S(3))
Head.BackgroundColor3=T.Panel Head.BorderSizePixel=0 Head.ZIndex=5
uiCorner(Head,S(18))

local LOGO_SZ=S(42)
local LogoBg=Instance.new("Frame",Head)
LogoBg.Size=UDim2.new(0,LOGO_SZ,0,LOGO_SZ) LogoBg.Position=UDim2.new(0,S(12),0.5,-LOGO_SZ/2)
LogoBg.BackgroundColor3=T.Acc LogoBg.BorderSizePixel=0 LogoBg.ZIndex=6 uiCorner(LogoBg,S(14))
local logoBgStroke=uiStroke(LogoBg,T.Acc2,1.2)
addRainbow(logoBgStroke,1.2,0.1,0.8)
local HFallback=Instance.new("TextLabel",LogoBg)
HFallback.Text="ğŸ¥Ÿ" HFallback.Size=UDim2.new(1,0,1,0) HFallback.BackgroundTransparency=1 HFallback.TextScaled=true HFallback.ZIndex=6

local TitleL=Instance.new("TextLabel",Head)
TitleL.Text="PELMEN PVP" TitleL.Size=UDim2.new(0,S(170),0,S(20))
TitleL.Position=UDim2.new(0,S(62),0,S(8)) TitleL.BackgroundTransparency=1
TitleL.TextColor3=T.White TitleL.Font=Enum.Font.GothamBold TitleL.TextSize=S(15)
TitleL.TextXAlignment=Enum.TextXAlignment.Left TitleL.ZIndex=6

local VerL=Instance.new("TextLabel",Head)
VerL.Text="v2.0 Â· "..(IsMobile and "ğŸ“± Mobile" or "ğŸ–¥ï¸ PC")
VerL.Size=UDim2.new(0,S(200),0,S(14)) VerL.Position=UDim2.new(0,S(62),0,S(30))
VerL.BackgroundTransparency=1 VerL.TextColor3=T.Sub
VerL.Font=Enum.Font.Gotham VerL.TextSize=S(10)
VerL.TextXAlignment=Enum.TextXAlignment.Left VerL.ZIndex=6

local MinBtn=Instance.new("TextButton",Head)
MinBtn.Text="âˆ’" MinBtn.Size=UDim2.new(0,S(30),0,S(30))
MinBtn.Position=UDim2.new(1,-S(42),0.5,-S(15))
MinBtn.BackgroundColor3=T.Card MinBtn.TextColor3=T.Sub
MinBtn.Font=Enum.Font.GothamBold MinBtn.TextSize=S(18)
MinBtn.BorderSizePixel=0 MinBtn.AutoButtonColor=false MinBtn.ZIndex=6
uiCorner(MinBtn,S(12))

-- Tab bar
local TAB_H=S(32)
local TabBar=Instance.new("Frame",WinClip)
TabBar.Size=UDim2.new(1,-S(24),0,TAB_H) TabBar.Position=UDim2.new(0,S(12),0,HEAD_H+S(7))
TabBar.BackgroundColor3=T.Panel TabBar.BorderSizePixel=0 TabBar.ZIndex=5 uiCorner(TabBar,S(14))
local TBL=Instance.new("UIListLayout",TabBar)
TBL.FillDirection=Enum.FillDirection.Horizontal TBL.SortOrder=Enum.SortOrder.LayoutOrder TBL.Padding=UDim.new(0,S(3))
uiPad(TabBar,S(4),S(4),S(4),S(4))

-- â”€â”€ Search bar (v2.0) â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local SEARCH_H=S(30)
local SearchBar=Instance.new("Frame",WinClip)
SearchBar.Size=UDim2.new(1,-S(24),0,SEARCH_H)
SearchBar.Position=UDim2.new(0,S(12),0,HEAD_H+TAB_H+S(12))
SearchBar.BackgroundColor3=T.Card SearchBar.BorderSizePixel=0
uiCorner(SearchBar,S(12))
local searchStroke=uiStroke(SearchBar,T.Border,1)

local searchIcon=Instance.new("TextLabel",SearchBar)
searchIcon.Size=UDim2.new(0,S(22),1,0)
searchIcon.Position=UDim2.new(0,S(6),0,0)
searchIcon.BackgroundTransparency=1
searchIcon.Text="ğŸ”" searchIcon.TextSize=S(12) searchIcon.Font=Enum.Font.Gotham

local SearchBox=Instance.new("TextBox",SearchBar)
SearchBox.Size=UDim2.new(1,-S(36),1,0)
SearchBox.Position=UDim2.new(0,S(30),0,0)
SearchBox.BackgroundTransparency=1
SearchBox.Text="" SearchBox.PlaceholderText="ĞŸĞ¾Ğ¸ÑĞº Ñ„Ğ¸Ñ‡ĞµĞ¹..."
SearchBox.TextColor3=T.Text SearchBox.PlaceholderColor3=T.Sub
SearchBox.Font=Enum.Font.Gotham SearchBox.TextSize=S(10)
SearchBox.TextXAlignment=Enum.TextXAlignment.Left
SearchBox.ClearTextOnFocus=false

SearchBox:GetPropertyChangedSignal("Text"):Connect(function()
    local q=SearchBox.Text:lower():gsub("%s","")
    if q=="" then
        searchStroke.Color=T.Border
        for _,c in pairs(Scroll:GetChildren()) do
            if c:IsA("Frame") or c:IsA("TextButton") then c.Visible=true end
        end
    else
        searchStroke.Color=T.Acc
        for _,c in pairs(Scroll:GetChildren()) do
            if c:IsA("Frame") or c:IsA("TextButton") then
                local lbl=c:FindFirstChildOfClass("TextLabel")
                if lbl then
                    local txt=lbl.Text:lower():gsub("%s","")
                    c.Visible=txt:find(q,1,true)~=nil
                else
                    c.Visible=true
                end
            end
        end
    end
end)

SearchBox.Focused:Connect(function()
    Tw(SearchBar,{BackgroundColor3=T.CardHov},0.1)
    Tw(searchStroke,{Color=T.Acc},0.1)
end)
SearchBox.FocusLost:Connect(function()
    Tw(SearchBar,{BackgroundColor3=T.Card},0.15)
    if SearchBox.Text=="" then Tw(searchStroke,{Color=T.Border},0.15) end
end)

-- Scroll
local SCROLL_TOP=HEAD_H+TAB_H+SEARCH_H+S(20)
local Scroll=Instance.new("ScrollingFrame",WinClip)
Scroll.Size=UDim2.new(1,-S(16),1,-SCROLL_TOP-S(8)) Scroll.Position=UDim2.new(0,S(8),0,SCROLL_TOP)
Scroll.BackgroundTransparency=1 Scroll.BorderSizePixel=0
Scroll.ScrollBarThickness=S(3) Scroll.ScrollBarImageColor3=T.Acc
Scroll.CanvasSize=UDim2.new(0,0,0,0) Scroll.AutomaticCanvasSize=Enum.AutomaticSize.Y
local SLL=Instance.new("UIListLayout",Scroll)
SLL.Padding=UDim.new(0,S(7)) SLL.SortOrder=Enum.SortOrder.LayoutOrder
uiPad(Scroll,0,0,S(6),S(6))

-- â”€â”€ Notify â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local nStack=0
Notify=function(title,msg,col,dur)
    nStack=nStack+1
    dur=dur or 3 col=col or T.Acc
    local slot=nStack
    local NW=S(280) local NH=S(62)
    local N=Instance.new("Frame",GUI)
    N.Size=UDim2.new(0,NW,0,NH) N.Position=UDim2.new(1,20,1,-(NH+S(10))*slot-S(12))
    N.BackgroundColor3=T.Panel N.BorderSizePixel=0 N.ZIndex=200
    uiCorner(N,S(18))
    local nStroke=uiStroke(N,col,1.4)
    addRainbow(nStroke,1.2,math.random()*0.5,0.8)
    local Bar=Instance.new("Frame",N) Bar.Size=UDim2.new(0,S(4),0.6,0) Bar.Position=UDim2.new(0,0,0.2,0)
    Bar.BackgroundColor3=col Bar.BorderSizePixel=0 Bar.ZIndex=201 uiCorner(Bar,S(4))
    local TL=Instance.new("TextLabel",N)
    TL.Text=title TL.Size=UDim2.new(1,-S(18),0,S(22)) TL.Position=UDim2.new(0,S(14),0,S(8))
    TL.BackgroundTransparency=1 TL.TextColor3=T.White TL.Font=Enum.Font.GothamBold TL.TextSize=S(12)
    TL.TextXAlignment=Enum.TextXAlignment.Left TL.ZIndex=201
    local ML=Instance.new("TextLabel",N)
    ML.Text=msg ML.Size=UDim2.new(1,-S(18),0,S(16)) ML.Position=UDim2.new(0,S(14),0,S(34))
    ML.BackgroundTransparency=1 ML.TextColor3=T.Sub ML.Font=Enum.Font.Gotham ML.TextSize=S(10)
    ML.TextXAlignment=Enum.TextXAlignment.Left ML.ZIndex=201
    Tw(N,{Position=UDim2.new(1,-NW-S(14),1,-(NH+S(10))*slot-S(12))},0.38,Enum.EasingStyle.Back)
    task.delay(dur,function()
        Tw(N,{Position=UDim2.new(1,20,1,-(NH+S(10))*slot-S(12))},0.28)
        task.wait(0.3) if N and N.Parent then N:Destroy() end nStack=math.max(0,nStack-1)
    end)
end

local function Section(txt,color)
    color=color or T.Acc
    local F=Instance.new("Frame",Scroll) F.Size=UDim2.new(1,0,0,S(22)) F.BackgroundTransparency=1
    local B=Instance.new("Frame",F) B.Size=UDim2.new(0,S(3),0.7,0) B.Position=UDim2.new(0,0,0.15,0)
    B.BackgroundColor3=color B.BorderSizePixel=0 uiCorner(B,S(3))
    local LL=Instance.new("Frame",F)
    LL.Size=UDim2.new(1,-S(14),0,S(1)) LL.Position=UDim2.new(0,S(8),1,-S(1))
    LL.BackgroundColor3=T.Border LL.BorderSizePixel=0
    local L=Instance.new("TextLabel",F) L.Text=txt:upper() L.Size=UDim2.new(1,-S(12),1,0) L.Position=UDim2.new(0,S(10),0,0)
    L.BackgroundTransparency=1 L.TextColor3=color L.Font=Enum.Font.GothamBold
    L.TextSize=FONT_XS L.TextXAlignment=Enum.TextXAlignment.Left
end

local function Toggle(label,icon,desc,acc,getV,setV,onChange)
    acc=acc or T.Acc
    local Card=Instance.new("Frame",Scroll) Card.Size=UDim2.new(1,0,0,CARD_H)
    Card.BackgroundColor3=T.Card Card.BorderSizePixel=0 uiCorner(Card,S(16))
    local stk=uiStroke(Card,T.Border,1)

    local IB_SZ=S(36)
    local IB=Instance.new("Frame",Card) IB.Size=UDim2.new(0,IB_SZ,0,IB_SZ) IB.Position=UDim2.new(0,S(10),0.5,-IB_SZ/2)
    IB.BackgroundColor3=getV() and acc or T.Panel IB.BorderSizePixel=0 uiCorner(IB,S(12))
    local IL=Instance.new("TextLabel",IB) IL.Text=icon IL.Size=UDim2.new(1,0,1,0) IL.BackgroundTransparency=1 IL.TextScaled=true IL.ZIndex=2

    local NL=Instance.new("TextLabel",Card) NL.Text=label NL.Size=UDim2.new(0,S(150),0,S(18)) NL.Position=UDim2.new(0,S(54),0,S(7))
    NL.BackgroundTransparency=1 NL.TextColor3=getV() and T.White or T.Text NL.Font=Enum.Font.GothamBold NL.TextSize=FONT_L NL.TextXAlignment=Enum.TextXAlignment.Left

    local DL=Instance.new("TextLabel",Card) DL.Text=desc DL.Size=UDim2.new(0,S(160),0,S(13)) DL.Position=UDim2.new(0,S(54),0,S(27))
    DL.BackgroundTransparency=1 DL.TextColor3=T.Sub DL.Font=Enum.Font.Gotham DL.TextSize=FONT_S DL.TextXAlignment=Enum.TextXAlignment.Left

    local PW,PH=S(46),S(24)
    local Pill=Instance.new("Frame",Card) Pill.Size=UDim2.new(0,PW,0,PH) Pill.Position=UDim2.new(1,-PW-S(12),0.5,-PH/2)
    Pill.BackgroundColor3=getV() and acc or T.Pill Pill.BorderSizePixel=0 uiCorner(Pill,S(14))
    local pillStroke=uiStroke(Pill,T.Border,1)

    local KSZ=S(17)
    local Knob=Instance.new("Frame",Pill) Knob.Size=UDim2.new(0,KSZ,0,KSZ)
    Knob.Position=getV() and UDim2.new(1,-KSZ-S(3),0.5,-KSZ/2) or UDim2.new(0,S(3),0.5,-KSZ/2)
    Knob.BackgroundColor3=T.White Knob.BorderSizePixel=0 uiCorner(Knob,S(10))

    local Dot=Instance.new("Frame",Card) Dot.Size=UDim2.new(0,S(7),0,S(7)) Dot.Position=UDim2.new(1,-S(15),0,S(9))
    Dot.BackgroundColor3=getV() and T.Green or T.Sub Dot.BorderSizePixel=0 uiCorner(Dot,S(4))

    local function Refresh(s)
        Tw(Pill,{BackgroundColor3=s and acc or T.Pill})
        Tw(Knob,{Position=s and UDim2.new(1,-KSZ-S(3),0.5,-KSZ/2) or UDim2.new(0,S(3),0.5,-KSZ/2),
                 BackgroundColor3=s and T.White or Color3.fromRGB(120,120,150)})
        Tw(IB,{BackgroundColor3=s and acc or T.Panel})
        Tw(stk,{Color=s and acc or T.Border})
        Tw(Dot,{BackgroundColor3=s and T.Green or T.Sub})
        NL.TextColor3=s and T.White or T.Text
        if s then addRainbow(stk,1.0,math.random()*0.3,0.7)
        else
            for i=#_rainbow,1,-1 do if _rainbow[i].stroke==stk then table.remove(_rainbow,i) end end
            pcall(function() stk.Color=T.Border end)
        end
    end

    Card.InputBegan:Connect(function(i)
        if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
            Tw(Card,{BackgroundColor3=T.CardHov},0.08)
            setV(not getV()) Refresh(getV()) ScheduleSave()
            if onChange then onChange(getV()) end
            task.delay(0.12,function() Tw(Card,{BackgroundColor3=T.Card},0.18) end)
        end
    end)
    return Card,Refresh
end

local function Slider(label,icon,acc,minV,maxV,getV,setV,suffix,onChange)
    suffix=suffix or "" acc=acc or T.Acc
    local Card=Instance.new("Frame",Scroll) Card.Size=UDim2.new(1,0,0,SLD_H)
    Card.BackgroundColor3=T.Card Card.BorderSizePixel=0 uiCorner(Card,S(16))
    uiStroke(Card,T.Border,1)

    local IL=Instance.new("TextLabel",Card) IL.Text=icon IL.Size=UDim2.new(0,S(28),0,S(28)) IL.Position=UDim2.new(0,S(10),0,S(10))
    IL.BackgroundTransparency=1 IL.TextScaled=true

    local NL=Instance.new("TextLabel",Card) NL.Text=label NL.Size=UDim2.new(0,S(150),0,S(18)) NL.Position=UDim2.new(0,S(42),0,S(8))
    NL.BackgroundTransparency=1 NL.TextColor3=T.Text NL.Font=Enum.Font.GothamBold NL.TextSize=FONT_M NL.TextXAlignment=Enum.TextXAlignment.Left

    local VL=Instance.new("TextLabel",Card) VL.Text=getV()..suffix VL.Size=UDim2.new(0,S(78),0,S(18)) VL.Position=UDim2.new(1,-S(84),0,S(8))
    VL.BackgroundTransparency=1 VL.TextColor3=acc VL.Font=Enum.Font.GothamBold VL.TextSize=FONT_M VL.TextXAlignment=Enum.TextXAlignment.Right

    local Track=Instance.new("Frame",Card) Track.Size=UDim2.new(1,-S(20),0,S(6)) Track.Position=UDim2.new(0,S(10),0,S(44))
    Track.BackgroundColor3=T.Pill Track.BorderSizePixel=0 uiCorner(Track,S(6))

    local pct=(getV()-minV)/(maxV-minV)
    local Fill=Instance.new("Frame",Track) Fill.Size=UDim2.new(pct,0,1,0) Fill.BackgroundColor3=acc Fill.BorderSizePixel=0 uiCorner(Fill,S(6))
    local FGrad=Instance.new("UIGradient",Fill)
    addRainbowGrad(FGrad,0.9,0.15)

    local Handle=Instance.new("Frame",Track) Handle.Size=UDim2.new(0,S(16),0,S(16)) Handle.AnchorPoint=Vector2.new(0.5,0.5)
    Handle.Position=UDim2.new(pct,0,0.5,0) Handle.BackgroundColor3=T.White Handle.BorderSizePixel=0 Handle.ZIndex=3 uiCorner(Handle,S(9))
    local hStroke=uiStroke(Handle,T.Acc,1.2)
    addRainbow(hStroke,1.0,0.3,0.7)

    local dragging=false
    local function SetVal(x)
        local a=Track.AbsolutePosition.X local w=Track.AbsoluteSize.X
        local p=math.clamp((x-a)/w,0,1) local v=math.floor(minV+p*(maxV-minV))
        setV(v) VL.Text=v..suffix
        Tw(Fill,{Size=UDim2.new(p,0,1,0)}) Tw(Handle,{Position=UDim2.new(p,0,0.5,0)})
        ScheduleSave() if onChange then onChange(v) end
    end
    Track.InputBegan:Connect(function(i)
        if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
            dragging=true SetVal(i.Position.X)
        end
    end)
    UIS.InputChanged:Connect(function(i)
        if dragging and (i.UserInputType==Enum.UserInputType.MouseMovement or i.UserInputType==Enum.UserInputType.Touch) then
            SetVal(i.Position.X)
        end
    end)
    UIS.InputEnded:Connect(function(i)
        if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
            dragging=false
        end
    end)
end

local function ActionBtn(label,icon,color,desc,onClick)
    local Card=Instance.new("Frame",Scroll) Card.Size=UDim2.new(1,0,0,CARD_H)
    Card.BackgroundColor3=T.Card Card.BorderSizePixel=0 uiCorner(Card,S(16))
    local stk=uiStroke(Card,T.Border,1)

    local IB_SZ=S(36)
    local IB=Instance.new("Frame",Card) IB.Size=UDim2.new(0,IB_SZ,0,IB_SZ) IB.Position=UDim2.new(0,S(10),0.5,-IB_SZ/2)
    IB.BackgroundColor3=T.Panel IB.BorderSizePixel=0 uiCorner(IB,S(12))
    local IL=Instance.new("TextLabel",IB) IL.Text=icon IL.Size=UDim2.new(1,0,1,0) IL.BackgroundTransparency=1 IL.TextScaled=true IL.ZIndex=2

    local NL=Instance.new("TextLabel",Card) NL.Text=label NL.Size=UDim2.new(0,S(150),0,S(18)) NL.Position=UDim2.new(0,S(54),0,S(7))
    NL.BackgroundTransparency=1 NL.TextColor3=T.Text NL.Font=Enum.Font.GothamBold NL.TextSize=FONT_L NL.TextXAlignment=Enum.TextXAlignment.Left

    local DL=Instance.new("TextLabel",Card) DL.Text=desc DL.Size=UDim2.new(0,S(155),0,S(13)) DL.Position=UDim2.new(0,S(54),0,S(27))
    DL.BackgroundTransparency=1 DL.TextColor3=T.Sub DL.Font=Enum.Font.Gotham DL.TextSize=FONT_S DL.TextXAlignment=Enum.TextXAlignment.Left

    local BW,BH=S(62),S(29)
    local RunBtn=Instance.new("TextButton",Card) RunBtn.Text="â–¶ Run"
    RunBtn.Size=UDim2.new(0,BW,0,BH) RunBtn.Position=UDim2.new(1,-BW-S(12),0.5,-BH/2)
    RunBtn.BackgroundColor3=color RunBtn.TextColor3=T.White RunBtn.Font=Enum.Font.GothamBold RunBtn.TextSize=FONT_M
    RunBtn.BorderSizePixel=0 RunBtn.AutoButtonColor=false uiCorner(RunBtn,S(12))
    uiStroke(RunBtn,color,1)

    local function flash()
        Tw(RunBtn,{BackgroundColor3=T.White},0.08)
        Tw(IB,{BackgroundColor3=color},0.08)
        Tw(stk,{Color=color})
        task.delay(0.2,function()
            Tw(RunBtn,{BackgroundColor3=color},0.2)
            Tw(IB,{BackgroundColor3=T.Panel},0.4)
            Tw(stk,{Color=T.Border},0.4)
        end)
        pcall(onClick)
    end
    RunBtn.MouseButton1Click:Connect(flash) RunBtn.TouchTap:Connect(flash)
    Card.InputBegan:Connect(function(i)
        if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
            Tw(Card,{BackgroundColor3=T.CardHov},0.08)
        end
    end)
    Card.InputEnded:Connect(function(i)
        if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
            Tw(Card,{BackgroundColor3=T.Card},0.15)
        end
    end)
end

-- â”€â”€ Fly system â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local flyBG=nil local flyBV=nil
local flySpd=0 local flyCtrl={f=0,b=0,l=0,r=0} local flyLastCtrl={f=0,b=0,l=0,r=0}
local mobFlyCtrl={f=false,b=false,l=false,r=false,u=false,d=false}
local function GetFlyMax() return Cfg.Fly.Speed*10 end

local function UpdateFlyCtrl()
    flyCtrl.f=((UIS:IsKeyDown(Enum.KeyCode.W) or UIS:IsKeyDown(Enum.KeyCode.Up))    or mobFlyCtrl.f) and 1  or 0
    flyCtrl.b=((UIS:IsKeyDown(Enum.KeyCode.S) or UIS:IsKeyDown(Enum.KeyCode.Down))  or mobFlyCtrl.b) and -1 or 0
    flyCtrl.l=((UIS:IsKeyDown(Enum.KeyCode.A) or UIS:IsKeyDown(Enum.KeyCode.Left))  or mobFlyCtrl.l) and -1 or 0
    flyCtrl.r=((UIS:IsKeyDown(Enum.KeyCode.D) or UIS:IsKeyDown(Enum.KeyCode.Right)) or mobFlyCtrl.r) and 1  or 0
end

local function StopFly()
    flyActive=false
    local char=Char() if char then
        local h=char:FindFirstChildOfClass("Humanoid") if h then
            for _,s in pairs(Enum.HumanoidStateType:GetEnumItems()) do pcall(function() h:SetStateEnabled(s,true) end) end
            pcall(function() h:ChangeState(Enum.HumanoidStateType.RunningNoPhysics) end)
            h.PlatformStand=false
        end
        local anim=char:FindFirstChild("Animate") if anim then anim.Disabled=false end
    end
    if flyBG and flyBG.Parent then flyBG:Destroy() end flyBG=nil
    if flyBV and flyBV.Parent then flyBV:Destroy() end flyBV=nil
    flySpd=0 flyCtrl={f=0,b=0,l=0,r=0} flyLastCtrl={f=0,b=0,l=0,r=0}
    mobFlyCtrl={f=false,b=false,l=false,r=false,u=false,d=false}
end

local function StartFly()
    if flyActive then StopFly() return end
    local char=Char() if not char then return end
    local h=char:FindFirstChildOfClass("Humanoid") if not h then return end
    local isR6=h.RigType==Enum.HumanoidRigType.R6
    local torso=isR6 and char:FindFirstChild("Torso") or char:FindFirstChild("UpperTorso")
    if not torso then return end
    flyActive=true
    for _,s in pairs(Enum.HumanoidStateType:GetEnumItems()) do pcall(function() h:SetStateEnabled(s,false) end) end
    pcall(function() h:ChangeState(Enum.HumanoidStateType.Swimming) end)
    h.PlatformStand=true
    local anim=char:FindFirstChild("Animate") if anim then anim.Disabled=true end
    for _,tr in pairs(h:GetPlayingAnimationTracks()) do pcall(function() tr:AdjustSpeed(0) end) end
    flyBG=Instance.new("BodyGyro",torso) flyBG.P=9e4 flyBG.MaxTorque=Vector3.new(9e9,9e9,9e9) flyBG.CFrame=torso.CFrame
    flyBV=Instance.new("BodyVelocity",torso) flyBV.Velocity=Vector3.new(0,0.1,0) flyBV.MaxForce=Vector3.new(9e9,9e9,9e9)
    task.spawn(function()
        flySpd=0
        while flyActive and char and h and h.Parent do
            RunService.RenderStepped:Wait() UpdateFlyCtrl()
            local maxS=GetFlyMax()
            local moving=(flyCtrl.l+flyCtrl.r)~=0 or (flyCtrl.f+flyCtrl.b)~=0
            if moving then flySpd=math.min(flySpd+0.6+flySpd/maxS,maxS) else flySpd=math.max(flySpd-1.2,0) end
            local camCF=Camera.CFrame
            if moving then
                flyBV.Velocity=(camCF.LookVector*(flyCtrl.f+flyCtrl.b)+((camCF*CFrame.new(flyCtrl.l+flyCtrl.r,(flyCtrl.f+flyCtrl.b)*0.2,0)).Position-camCF.Position))*flySpd
                flyLastCtrl={f=flyCtrl.f,b=flyCtrl.b,l=flyCtrl.l,r=flyCtrl.r}
            elseif flySpd~=0 then
                flyBV.Velocity=(camCF.LookVector*(flyLastCtrl.f+flyLastCtrl.b)+((camCF*CFrame.new(flyLastCtrl.l+flyLastCtrl.r,(flyLastCtrl.f+flyLastCtrl.b)*0.2,0)).Position-camCF.Position))*flySpd
            else flyBV.Velocity=Vector3.new(0,0,0) end
            if UIS:IsKeyDown(Enum.KeyCode.Space) or mobFlyCtrl.u then
                pcall(function() torso.CFrame=torso.CFrame*CFrame.new(0,1.2,0) end)
            elseif UIS:IsKeyDown(Enum.KeyCode.C) or UIS:IsKeyDown(Enum.KeyCode.LeftControl) or mobFlyCtrl.d then
                pcall(function() torso.CFrame=torso.CFrame*CFrame.new(0,-1.2,0) end)
            end
            pcall(function() flyBG.CFrame=camCF*CFrame.Angles(-math.rad((flyCtrl.f+flyCtrl.b)*45*flySpd/math.max(GetFlyMax(),1)),0,0) end)
        end
        if flyActive then StopFly() end
    end)
end

-- â”€â”€ Mobile D-Pad â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if IsMobile then
    local DPAD_SZ=S(170) local BTN=S(50) local cx=(DPAD_SZ-BTN)/2
    local DPad=Instance.new("Frame",GUI)
    DPad.Size=UDim2.new(0,DPAD_SZ,0,DPAD_SZ)
    DPad.Position=UDim2.new(1,-DPAD_SZ-S(12),0.5,-DPAD_SZ/2)
    DPad.BackgroundTransparency=1 DPad.ZIndex=50

    local function dBtn(txt,x,y,onHold)
        local B=Instance.new("TextButton",DPad)
        B.Text=txt B.Size=UDim2.new(0,BTN,0,BTN) B.Position=UDim2.new(0,x,0,y)
        B.BackgroundColor3=T.Panel B.TextColor3=T.White B.Font=Enum.Font.GothamBold B.TextSize=S(16)
        B.BorderSizePixel=0 B.AutoButtonColor=false B.ZIndex=51 uiCorner(B,S(14))
        local ds=uiStroke(B,T.Acc,1.4) addRainbow(ds,1.1,math.random()*0.4,0.72)
        B.BackgroundTransparency=0.2
        B.InputBegan:Connect(function(i)
            if i.UserInputType==Enum.UserInputType.Touch then onHold(true) Tw(B,{BackgroundTransparency=0,BackgroundColor3=T.Acc},0.08) end
        end)
        B.InputEnded:Connect(function(i)
            if i.UserInputType==Enum.UserInputType.Touch then onHold(false) Tw(B,{BackgroundTransparency=0.2,BackgroundColor3=T.Panel},0.12) end
        end)
    end
    dBtn("â–²",cx,0,                       function(v) mobFlyCtrl.f=v end)
    dBtn("â–¼",cx,DPAD_SZ-BTN,             function(v) mobFlyCtrl.b=v end)
    dBtn("â—€",0,(DPAD_SZ-BTN)/2,          function(v) mobFlyCtrl.l=v end)
    dBtn("â–¶",DPAD_SZ-BTN,(DPAD_SZ-BTN)/2,function(v) mobFlyCtrl.r=v end)

    local VBAR_W=S(56) local VBAR_H=S(112)
    local VBar=Instance.new("Frame",GUI)
    VBar.Size=UDim2.new(0,VBAR_W,0,VBAR_H)
    VBar.Position=UDim2.new(1,-DPAD_SZ-VBAR_W-S(22),0.5,-VBAR_H/2)
    VBar.BackgroundColor3=T.Panel VBar.BorderSizePixel=0 VBar.ZIndex=50
    uiCorner(VBar,S(18))
    local vbStroke=uiStroke(VBar,T.Acc,1.4)
    addRainbow(vbStroke,1.0,0.5,0.72)
    local VBL=Instance.new("UIListLayout",VBar)
    VBL.FillDirection=Enum.FillDirection.Vertical
    VBL.HorizontalAlignment=Enum.HorizontalAlignment.Center
    VBL.VerticalAlignment=Enum.VerticalAlignment.Center VBL.Padding=UDim.new(0,S(6))
    uiPad(VBar,S(7),S(7),S(8),S(8))
    local function vBtn(txt,onHold)
        local B=Instance.new("TextButton",VBar) B.Text=txt B.Size=UDim2.new(1,0,0,S(44))
        B.BackgroundColor3=T.Card B.TextColor3=T.White B.Font=Enum.Font.GothamBold B.TextSize=S(12)
        B.BorderSizePixel=0 B.AutoButtonColor=false uiCorner(B,S(12))
        B.InputBegan:Connect(function(i) if i.UserInputType==Enum.UserInputType.Touch then onHold(true) Tw(B,{BackgroundColor3=T.Acc},0.08) end end)
        B.InputEnded:Connect(function(i) if i.UserInputType==Enum.UserInputType.Touch then onHold(false) Tw(B,{BackgroundColor3=T.Card},0.12) end end)
    end
    vBtn("â–²",function(v) mobFlyCtrl.u=v end)
    vBtn("â–¼",function(v) mobFlyCtrl.d=v end)
end

-- â”€â”€ Tabs â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local TABS={
    {name="Combat",icon="âš”ï¸"},{name="Move",icon="ğŸƒ"},
    {name="Fly",icon="âœˆï¸"},{name="Visual",icon="ğŸ‘ï¸"},
    {name="Server",icon="ğŸŒ"},{name="Config",icon="âš™ï¸"}
}
local TabBtns={} local ActiveTab=nil
local tabCount=#TABS

for _,tab in ipairs(TABS) do
    local Btn=Instance.new("TextButton",TabBar)
    Btn.Size=UDim2.new(1/tabCount,-S(3),1,0) Btn.BackgroundColor3=T.Card
    Btn.Text=tab.icon Btn.TextSize=S(14)
    Btn.BorderSizePixel=0 Btn.Font=Enum.Font.GothamBold Btn.TextColor3=T.Sub Btn.AutoButtonColor=false
    uiCorner(Btn,S(10))
    if IsMobile then Btn.TextSize=S(16) end
    TabBtns[tab.name]=Btn
end

local function ClearScroll()
    for _,c in pairs(Scroll:GetChildren()) do
        if not c:IsA("UIListLayout") and not c:IsA("UIPadding") then c:Destroy() end
    end
end

local function SwitchTab(name)
    if ActiveTab==name then return end
    if ActiveTab and TabBtns[ActiveTab] then
        Tw(TabBtns[ActiveTab],{BackgroundColor3=T.Card,TextColor3=T.Sub})
        for i=#_rainbow,1,-1 do
            if _rainbow[i].stroke and TabBtns[ActiveTab]:FindFirstChildOfClass("UIStroke") then
                if _rainbow[i].stroke==TabBtns[ActiveTab]:FindFirstChildOfClass("UIStroke") then
                    table.remove(_rainbow,i)
                end
            end
        end
    end
    ClearScroll() ActiveTab=name
    -- ÑĞ±Ñ€Ğ¾ÑĞ¸Ñ‚ÑŒ Ğ¿Ğ¾Ğ¸ÑĞº Ğ¿Ñ€Ğ¸ Ğ¿ĞµÑ€ĞµĞºĞ»ÑÑ‡ĞµĞ½Ğ¸Ğ¸
    SearchBox.Text=""
    Tw(TabBtns[name],{BackgroundColor3=T.Acc,TextColor3=T.White})
    local tStroke=uiStroke(TabBtns[name],T.Acc2,1.4)
    addRainbow(tStroke,1.3,0,0.78)

    if name=="Combat" then
        Section("Fling",T.Red)
        Toggle("Mini Fling","ğŸ’¥","G = ĞºĞ¸Ğ½ÑƒÑ‚ÑŒ Ğ±Ğ»Ğ¸Ğ¶Ğ°Ğ¹ÑˆĞµĞ³Ğ¾",T.Red,function() return Cfg.Fling.On end,function(v) Cfg.Fling.On=v end,function(v) Notify("ğŸ’¥ Fling",v and "ON" or "OFF",T.Red,2) end)
        Slider("Fling Power","ğŸš€",T.Red,50,800,function() return Cfg.Fling.Power end,function(v) Cfg.Fling.Power=v end," pw")
        Slider("Fling Range","ğŸ“¡",T.Red,5,60,function() return Cfg.Fling.Range end,function(v) Cfg.Fling.Range=v end," st")
        Section("Auto Spam",T.Acc)
        Toggle("Auto Spam","âš¡","ĞĞ²Ñ‚Ğ¾-ÑÑ‚Ñ€ĞµĞ»ÑŒĞ±Ğ° / ĞºĞ»Ğ¸Ğº",T.Acc,function() return Cfg.Spam.On end,function(v) Cfg.Spam.On=v end,function(v) Notify("âš¡ Spam",v and "ON" or "OFF",T.Acc,2) end)
        Slider("Spam Delay","â±",T.Acc,1,50,function() return Cfg.Spam.Delay end,function(v) Cfg.Spam.Delay=v end," ms")
        Section("Fast Collect",T.Green)
        Toggle("Fast Collect E","ğŸŒ¿","ĞĞ²Ñ‚Ğ¾-ÑĞ±Ğ¾Ñ€: E + Prompts",T.Green,function() return Cfg.FastCollect.On end,function(v) Cfg.FastCollect.On=v end,function(v) Notify("ğŸŒ¿ Collect",v and "ON" or "OFF",T.Green,2) end)
        Slider("Collect Rate","â©",T.Green,1,20,function() return Cfg.FastCollect.Rate end,function(v) Cfg.FastCollect.Rate=v end," (1=fast)")

    elseif name=="Move" then
        Section("Speed",T.Acc)
        Toggle("Speed Hack","ğŸ’¨","ĞšĞ°ÑÑ‚Ğ¾Ğ¼Ğ½Ğ°Ñ ÑĞºĞ¾Ñ€Ğ¾ÑÑ‚ÑŒ",T.Acc,function() return Cfg.Speed.On end,
            function(v) Cfg.Speed.On=v local h=Hum() if h then h.WalkSpeed=v and Cfg.Speed.Value or 16 end end,
            function(v) Notify("ğŸ’¨ Speed",v and "ON "..Cfg.Speed.Value.."WS" or "OFF",T.Acc,2) end)
        Slider("Speed Value","ğŸ”¢",T.Acc,16,500,function() return Cfg.Speed.Value end,
            function(v) Cfg.Speed.Value=v if Cfg.Speed.On then local h=Hum() if h then h.WalkSpeed=v end end end," ws")
        Section("Jump",T.Acc2)
        Toggle("Infinity Jump","ğŸš€","ĞŸÑ€Ñ‹Ğ¶Ğ¾Ğº Ğ±ĞµĞ· Ğ»Ğ¸Ğ¼Ğ¸Ñ‚Ğ°",T.Acc2,function() return Cfg.InfJump.On end,function(v) Cfg.InfJump.On=v end,function(v) Notify("ğŸš€ InfJump",v and "ON" or "OFF",T.Acc2,2) end)
        Slider("Jump Power","â¬†ï¸",T.Acc2,50,400,function() return Cfg.InfJump.Power end,function(v) Cfg.InfJump.Power=v end," jp")
        Section("Ğ—Ğ°Ñ‰Ğ¸Ñ‚Ğ°",T.Acc)
        Toggle("Shift Lock","ğŸ”’","ĞŸĞ¾Ğ²Ğ¾Ñ€Ğ¾Ñ‚ Ğ·Ğ° ĞºĞ°Ğ¼ĞµÑ€Ğ¾Ğ¹",T.Acc,function() return Cfg.ShiftLock.On end,function(v) Cfg.ShiftLock.On=v end,function(v) Notify("ğŸ”’ ShiftLock",v and "ON" or "OFF",T.Acc,2) end)
        Toggle("Anti Ragdoll","ğŸ›¡ï¸","ĞÑ‚ĞºĞ»ÑÑ‡Ğ°ĞµÑ‚ ÑÑƒÑÑ‚Ğ°Ğ²Ñ‹",T.Green,function() return Cfg.AntiRag.On end,function(v) Cfg.AntiRag.On=v end,function(v) Notify("ğŸ›¡ï¸ AntiRag",v and "ON" or "OFF",T.Green,2) end)
        -- â”€â”€â”€ Spider v1.3 Toggle â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        Toggle("ğŸ•·ï¸ Spider v1.3","ğŸ•·ï¸","LLM Brain Â· Zero-Lag Â· TOP-1",T.Acc2,
            function() return Cfg.Spider.On end,
            function(v)
                if v then local h=Hum() if h then StartSpider(h) end
                else StopSpider() end
            end,
            function(v) Notify("ğŸ•·ï¸ Spider v1.3",v and "LLM ONLINE Â· Vocab:"..LLM.model.vocabSize or "ĞÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½",T.Acc2,4) end)
        Slider("TP ĞŸĞ¾Ñ€Ğ¾Ğ³","ğŸ“",T.Red,10,150,
            function() return Cfg.Spider.Threshold end,
            function(v) Cfg.Spider.Threshold=v end," st")

        -- â”€â”€â”€ LLM BRAIN DASHBOARD â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        Section("ğŸ§  LLM Adaptation Engine",T.Cyan)

        -- Ğ“Ğ»Ğ°Ğ²Ğ½Ğ°Ñ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ° Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸
        local llmCard=Instance.new("Frame",Scroll)
        llmCard.Size=UDim2.new(1,0,0,S(38))
        llmCard.BackgroundColor3=Color3.fromRGB(8,12,24)
        llmCard.BorderSizePixel=0 uiCorner(llmCard,S(14))
        local llmCS=uiStroke(llmCard,T.Cyan,1.6) addRainbow(llmCS,0.6,0.0,0.80)
        local llmTop=Instance.new("TextLabel",llmCard)
        llmTop.Size=UDim2.new(1,-S(12),0,S(18))
        llmTop.Position=UDim2.new(0,S(10),0,S(4))
        llmTop.BackgroundTransparency=1
        llmTop.TextColor3=T.Cyan llmTop.Font=Enum.Font.GothamBold llmTop.TextSize=S(11)
        llmTop.TextXAlignment=Enum.TextXAlignment.Left
        llmTop.Text="ğŸ§  Spider v1.3 LLM Â· OFFLINE"
        local llmSub=Instance.new("TextLabel",llmCard)
        llmSub.Size=UDim2.new(1,-S(12),0,S(14))
        llmSub.Position=UDim2.new(0,S(10),0,S(20))
        llmSub.BackgroundTransparency=1
        llmSub.TextColor3=T.Sub llmSub.Font=Enum.Font.Gotham llmSub.TextSize=S(9)
        llmSub.TextXAlignment=Enum.TextXAlignment.Left
        llmSub.Text="Tokenizer Â· Attention Â· Backprop-Lite Â· Generative Adapter"

        -- Confidence progress bar
        local confBG=Instance.new("Frame",Scroll)
        confBG.Size=UDim2.new(1,0,0,S(28))
        confBG.BackgroundColor3=T.Card confBG.BorderSizePixel=0 uiCorner(confBG,S(10))
        uiPad(confBG,S(10),S(10),0,0)
        local confLabel=Instance.new("TextLabel",confBG)
        confLabel.Size=UDim2.new(0.5,0,0,S(13))
        confLabel.Position=UDim2.new(0,S(10),0,S(3))
        confLabel.BackgroundTransparency=1
        confLabel.TextColor3=T.Sub confLabel.Font=Enum.Font.Gotham confLabel.TextSize=S(8)
        confLabel.TextXAlignment=Enum.TextXAlignment.Left confLabel.Text="Ğ¢Ğ¾Ñ‡Ğ½Ğ¾ÑÑ‚ÑŒ Ğ¼Ğ¾Ğ´ĞµĞ»Ğ¸"
        local confVal=Instance.new("TextLabel",confBG)
        confVal.Size=UDim2.new(0.5,0,0,S(13))
        confVal.Position=UDim2.new(0.5,0,0,S(3))
        confVal.BackgroundTransparency=1
        confVal.TextColor3=T.Green confVal.Font=Enum.Font.GothamBold confVal.TextSize=S(9)
        confVal.TextXAlignment=Enum.TextXAlignment.Right confVal.Text="0%"
        local confBarBG=Instance.new("Frame",confBG)
        confBarBG.Size=UDim2.new(1,-S(20),0,S(6))
        confBarBG.Position=UDim2.new(0,S(10),0,S(18))
        confBarBG.BackgroundColor3=Color3.fromRGB(20,20,38) confBarBG.BorderSizePixel=0 uiCorner(confBarBG,S(3))
        local confBarFill=Instance.new("Frame",confBarBG)
        confBarFill.Size=UDim2.new(0,0,1,0) confBarFill.BackgroundColor3=T.Green
        confBarFill.BorderSizePixel=0 uiCorner(confBarFill,S(3))
        local confBarGrad=Instance.new("UIGradient",confBarFill)
        confBarGrad.Color=ColorSequence.new{
            ColorSequenceKeypoint.new(0,Color3.fromRGB(80,200,120)),
            ColorSequenceKeypoint.new(1,Color3.fromRGB(120,255,160)),
        }

        -- Anomaly progress bar
        local anomBG=Instance.new("Frame",Scroll)
        anomBG.Size=UDim2.new(1,0,0,S(28))
        anomBG.BackgroundColor3=T.Card anomBG.BorderSizePixel=0 uiCorner(anomBG,S(10))
        local anomLabel=Instance.new("TextLabel",anomBG)
        anomLabel.Size=UDim2.new(0.5,0,0,S(13))
        anomLabel.Position=UDim2.new(0,S(10),0,S(3))
        anomLabel.BackgroundTransparency=1
        anomLabel.TextColor3=T.Sub anomLabel.Font=Enum.Font.Gotham anomLabel.TextSize=S(8)
        anomLabel.TextXAlignment=Enum.TextXAlignment.Left anomLabel.Text="Ğ£Ñ€Ğ¾Ğ²ĞµĞ½ÑŒ Ğ°Ğ½Ğ¾Ğ¼Ğ°Ğ»Ğ¸Ğ¹"
        local anomVal=Instance.new("TextLabel",anomBG)
        anomVal.Size=UDim2.new(0.5,0,0,S(13))
        anomVal.Position=UDim2.new(0.5,0,0,S(3))
        anomVal.BackgroundTransparency=1
        anomVal.TextColor3=T.Green anomVal.Font=Enum.Font.GothamBold anomVal.TextSize=S(9)
        anomVal.TextXAlignment=Enum.TextXAlignment.Right anomVal.Text="0%"
        local anomBarBG=Instance.new("Frame",anomBG)
        anomBarBG.Size=UDim2.new(1,-S(20),0,S(6))
        anomBarBG.Position=UDim2.new(0,S(10),0,S(18))
        anomBarBG.BackgroundColor3=Color3.fromRGB(20,20,38) anomBarBG.BorderSizePixel=0 uiCorner(anomBarBG,S(3))
        local anomBarFill=Instance.new("Frame",anomBarBG)
        anomBarFill.Size=UDim2.new(0,0,1,0) anomBarFill.BackgroundColor3=T.Red
        anomBarFill.BorderSizePixel=0 uiCorner(anomBarFill,S(3))
        local anomBarGrad=Instance.new("UIGradient",anomBarFill)
        anomBarGrad.Color=ColorSequence.new{
            ColorSequenceKeypoint.new(0,Color3.fromRGB(220,80,80)),
            ColorSequenceKeypoint.new(1,Color3.fromRGB(255,140,60)),
        }

        -- Ğ¡ĞµÑ‚ĞºĞ° Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ğ¾Ğ² (2 ĞºĞ¾Ğ»Ğ¾Ğ½ĞºĞ¸ Ã— 5 Ñ€ÑĞ´Ğ¾Ğ²)
        local statsCard=Instance.new("Frame",Scroll)
        statsCard.Size=UDim2.new(1,0,0,S(162))
        statsCard.BackgroundColor3=T.Card statsCard.BorderSizePixel=0 uiCorner(statsCard,S(14))
        uiStroke(statsCard,T.Border,1)

        local function statRow(i, labelL, labelR, defaultL, defaultR)
            local y = S(6) + (i-1)*S(30)
            -- Ğ»ĞµĞ²Ğ°Ñ ÑÑ‡ĞµĞ¹ĞºĞ°
            local cellL=Instance.new("Frame",statsCard)
            cellL.Size=UDim2.new(0.5,-S(8),0,S(26))
            cellL.Position=UDim2.new(0,S(6),0,y)
            cellL.BackgroundColor3=Color3.fromRGB(14,14,26) cellL.BorderSizePixel=0 uiCorner(cellL,S(8))
            local lL=Instance.new("TextLabel",cellL)
            lL.Size=UDim2.new(1,-S(8),0,S(11))
            lL.Position=UDim2.new(0,S(6),0,S(2))
            lL.BackgroundTransparency=1 lL.TextColor3=T.Sub
            lL.Font=Enum.Font.Gotham lL.TextSize=S(7) lL.TextXAlignment=Enum.TextXAlignment.Left
            lL.Text=labelL
            local vL=Instance.new("TextLabel",cellL)
            vL.Size=UDim2.new(1,-S(8),0,S(13))
            vL.Position=UDim2.new(0,S(6),0,S(11))
            vL.BackgroundTransparency=1 vL.TextColor3=T.Acc2
            vL.Font=Enum.Font.GothamBold vL.TextSize=S(9) vL.TextXAlignment=Enum.TextXAlignment.Left
            vL.Text=defaultL
            -- Ğ¿Ñ€Ğ°Ğ²Ğ°Ñ ÑÑ‡ĞµĞ¹ĞºĞ°
            local cellR=Instance.new("Frame",statsCard)
            cellR.Size=UDim2.new(0.5,-S(8),0,S(26))
            cellR.Position=UDim2.new(0.5,S(2),0,y)
            cellR.BackgroundColor3=Color3.fromRGB(14,14,26) cellR.BorderSizePixel=0 uiCorner(cellR,S(8))
            local lR=Instance.new("TextLabel",cellR)
            lR.Size=UDim2.new(1,-S(8),0,S(11))
            lR.Position=UDim2.new(0,S(6),0,S(2))
            lR.BackgroundTransparency=1 lR.TextColor3=T.Sub
            lR.Font=Enum.Font.Gotham lR.TextSize=S(7) lR.TextXAlignment=Enum.TextXAlignment.Left
            lR.Text=labelR
            local vR=Instance.new("TextLabel",cellR)
            vR.Size=UDim2.new(1,-S(8),0,S(13))
            vR.Position=UDim2.new(0,S(6),0,S(11))
            vR.BackgroundTransparency=1 vR.TextColor3=T.Acc
            vR.Font=Enum.Font.GothamBold vR.TextSize=S(9) vR.TextXAlignment=Enum.TextXAlignment.Left
            vR.Text=defaultR
            return vL, vR
        end

        local vGen,   vVocab  = statRow(1,"ĞŸĞ¾ĞºĞ¾Ğ»ĞµĞ½Ğ¸Ğµ Ğ˜Ğ˜","Ğ¡Ğ»Ğ¾Ğ²Ğ°Ñ€ÑŒ", "#0","48 ÑĞ»Ğ¾Ğ²")
        local vTP_s,  vFP_s   = statRow(2,"Ğ’ĞµÑ€Ğ½. ÑÑ€Ğ°Ğ±Ğ°Ñ‚.","Ğ›Ğ¾Ğ¶Ğ½. ÑÑ€Ğ°Ğ±Ğ°Ñ‚.","0","0")
        local vThres, vLR     = statRow(3,"LLM ĞŸĞ¾Ñ€Ğ¾Ğ³","Learning Rate","0.45","0.0800")
        local vTPthr, vFlood  = statRow(4,"TP ĞŸĞ¾Ñ€Ğ¾Ğ³ (Ğ°Ğ²Ñ‚Ğ¾)","Flood Ğ»Ğ¸Ğ¼Ğ¸Ñ‚","40st","60/s")
        local vMem1,  vMem2   = statRow(5,"ĞŸĞ°Ğ¼ÑÑ‚ÑŒ ÑƒĞ³Ñ€Ğ¾Ğ·","ĞŸĞ°Ğ¼ÑÑ‚ÑŒ safe","0","0")

        -- Ğ›Ğ¾Ğ³ Ğ¿Ğ¾ÑĞ»ĞµĞ´Ğ½Ğ¸Ñ… ÑĞ¾Ğ±Ñ‹Ñ‚Ğ¸Ğ¹
        Section("ğŸ“œ LLM Event Log",T.Acc2)
        local logCard=Instance.new("Frame",Scroll)
        logCard.Size=UDim2.new(1,0,0,S(110))
        logCard.BackgroundColor3=Color3.fromRGB(6,6,14) logCard.BorderSizePixel=0 uiCorner(logCard,S(12))
        uiStroke(logCard,T.Border,1)
        local logLines={}
        for i=1,5 do
            local ll=Instance.new("TextLabel",logCard)
            ll.Size=UDim2.new(1,-S(12),0,S(18))
            ll.Position=UDim2.new(0,S(8),0,(i-1)*S(20)+S(5))
            ll.BackgroundTransparency=1
            ll.TextColor3=i==1 and T.Acc2 or T.Sub
            ll.Font=Enum.Font.Code ll.TextSize=S(8)
            ll.TextXAlignment=Enum.TextXAlignment.Left
            ll.Text=(i==1) and "> Spider v1.3 LLM ready" or "  â€”"
            logLines[i]=ll
        end
        local _logBuf={"Spider v1.3 LLM ready Â· vocab="..LLM.model.vocabSize}

        local function llmLog(msg)
            table.insert(_logBuf,1,msg)
            if #_logBuf>5 then table.remove(_logBuf) end
            for i=1,5 do
                if logLines[i] then
                    logLines[i].Text=(i==1 and "> " or "  ")..((_logBuf[i]) or "â€”")
                    logLines[i].TextColor3=i==1 and T.Acc2 or T.Sub
                end
            end
        end

        -- Live update loop (1/ÑĞµĞº)
        task.spawn(function()
            local lastGen=-1
            while llmCard and llmCard.Parent do
                pcall(function()
                    if Cfg.Spider.On then
                        local st=spGetLLMStatus()
                        -- Ğ“Ğ»Ğ°Ğ²Ğ½Ñ‹Ğ¹ Ğ·Ğ°Ğ³Ğ¾Ğ»Ğ¾Ğ²Ğ¾Ğº
                        llmTop.Text="ğŸ§  Spider v1.3 LLM Â· Gen #"..st.generation.." Â· "..st.confidence.."%"
                        llmTop.TextColor3=st.confidence<30 and T.Red or st.confidence<70 and T.Yellow or T.Cyan
                        -- Confidence bar
                        confVal.Text=st.confidence.."%"
                        confVal.TextColor3=st.confidence<30 and T.Red or st.confidence<70 and T.Yellow or T.Green
                        Tw(confBarFill,{Size=UDim2.new(math.clamp(st.confidence/100,0,1),0,1,0)},0.5)
                        -- Anomaly bar
                        anomVal.Text=st.anomaly.."%"
                        anomVal.TextColor3=st.anomaly<30 and T.Green or st.anomaly<60 and T.Yellow or T.Red
                        Tw(anomBarFill,{Size=UDim2.new(math.clamp(st.anomaly/100,0,1),0,1,0)},0.5)
                        -- Stats grid
                        vGen.Text   ="#"..st.generation
                        vVocab.Text = st.vocabSize.." Ñ‚Ğ¾ĞºĞµĞ½Ğ¾Ğ²"
                        vTP_s.Text  = tostring(st.tp)
                        vFP_s.Text  = tostring(st.fp)
                        vThres.Text = st.threshold
                        vLR.Text    = st.lr
                        vTPthr.Text = st.tpThreshold.."st"
                        vFlood.Text = st.floodLimit.."/s"
                        vMem1.Text  = st.memThreats.." Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹"
                        vMem2.Text  = st.memSafe.." Ğ·Ğ°Ğ¿Ğ¸ÑĞµĞ¹"
                        -- Log: Ğ½Ğ¾Ğ²Ğ¾Ğµ Ğ¿Ğ¾ĞºĞ¾Ğ»ĞµĞ½Ğ¸Ğµ
                        if st.generation~=lastGen then
                            lastGen=st.generation
                            if st.generation>0 then
                                local msg="Gen#"..st.generation.." Â· +"..st.learnedWords.." learned Â· thr="..st.threshold
                                llmLog(msg)
                            end
                        end
                    else
                        llmTop.Text="ğŸ§  Spider v1.3 LLM Â· OFFLINE"
                        llmTop.TextColor3=T.Sub
                        confVal.Text="â€”" anomVal.Text="â€”"
                        Tw(confBarFill,{Size=UDim2.new(0,0,1,0)},0.3)
                        Tw(anomBarFill,{Size=UDim2.new(0,0,1,0)},0.3)
                        vGen.Text="â€”" vVocab.Text="â€”"
                        vTP_s.Text="â€”" vFP_s.Text="â€”"
                        vThres.Text="â€”" vLR.Text="â€”"
                        vTPthr.Text="â€”" vFlood.Text="â€”"
                        vMem1.Text="â€”" vMem2.Text="â€”"
                    end
                end)
                task.wait(1)
            end
        end)
        Toggle("Anti Lag","ğŸ§¹","Ğ‘Ğ»Ğ¾Ğº ÑĞ¿Ğ°Ğ¼-Ñ€ĞµĞ¼Ğ¾ÑƒÑ‚Ğ¾Ğ² (3 ÑĞ»Ğ¾Ñ)",T.Yellow,function() return Cfg.AntiLag.On end,
            function(v) Cfg.AntiLag.On=v if v then StartAntiLag() else StopAntiLag() end end,
            function(v) Notify("ğŸ§¹ Anti-Lag",v and "3 ÑĞ»Ğ¾Ñ Ğ°ĞºÑ‚Ğ¸Ğ²Ğ½Ñ‹" or "OFF",T.Yellow,2) end)

    elseif name=="Fly" then
        Section("âœˆï¸ Fly System",T.Acc)
        local IC=Instance.new("Frame",Scroll) IC.Size=UDim2.new(1,0,0,S(IsMobile and 96 or 80))
        IC.BackgroundColor3=T.Card IC.BorderSizePixel=0 uiCorner(IC,S(16))
        local icStroke=uiStroke(IC,T.Acc,1.4) addRainbow(icStroke,0.9,0.2,0.65)
        local lines=IsMobile and {
            "ğŸ“± D-Pad (ÑĞ¿Ñ€Ğ°Ğ²Ğ°) â€” Ğ²Ğ¿ĞµÑ€Ñ‘Ğ´ / Ğ½Ğ°Ğ·Ğ°Ğ´ / Ğ»ĞµĞ²Ğ¾ / Ğ¿Ñ€Ğ°Ğ²Ğ¾",
            "â–²UP / â–¼DN â€” Ğ²Ñ‹ÑĞ¾Ñ‚Ğ°",
            "ğŸ”˜ Fly ĞºĞ½Ğ¾Ğ¿ĞºĞ° Ğ²Ğ½Ğ¸Ğ·Ñƒ â€” Ğ²ĞºĞ»/Ğ²Ñ‹ĞºĞ»",
        } or {
            "âŒ¨ï¸ WASD â€” Ğ½Ğ°Ğ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğµ  |  F â€” Ğ²ĞºĞ»/Ğ²Ñ‹ĞºĞ»",
            "Space â€” Ğ²Ğ²ĞµÑ€Ñ…  |  C / LCtrl â€” Ğ²Ğ½Ğ¸Ğ·",
            "Fly Speed Ã— 10 = studs/sec",
        }
        for i,l in ipairs(lines) do
            local LL=Instance.new("TextLabel",IC) LL.Text=l LL.Size=UDim2.new(1,-S(18),0,S(18)) LL.Position=UDim2.new(0,S(12),0,(i-1)*S(22)+S(8))
            LL.BackgroundTransparency=1 LL.TextColor3=T.Text LL.Font=Enum.Font.Gotham LL.TextSize=S(11) LL.TextXAlignment=Enum.TextXAlignment.Left
        end
        Toggle("Fly","âœˆï¸","ĞŸĞ¾Ğ»Ñ‘Ñ‚ R6 + R15",T.Acc,function() return flyActive end,
            function(v) if v and not flyActive then StartFly() elseif not v and flyActive then StopFly() end end,
            function(v) Cfg.Fly.On=v ScheduleSave() Notify("âœˆï¸ Fly",v and "Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½!" or "Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½",T.Acc,2) end)
        Slider("Fly Speed","ğŸï¸",T.Acc,1,10,function() return Cfg.Fly.Speed end,function(v) Cfg.Fly.Speed=v end," x")

    elseif name=="Visual" then
        -- â”€â”€â”€ ESP â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        Section("ğŸ‘ï¸ ESP â€” Ğ¡ĞºĞ²Ğ¾Ğ·ÑŒ ÑÑ‚ĞµĞ½Ñ‹",T.Cyan)
        Toggle("ESP Enable","ğŸ‘ï¸","Ğ’Ğ¸Ğ´ĞµÑ‚ÑŒ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ¾Ğ² ÑĞºĞ²Ğ¾Ğ·ÑŒ ÑÑ‚ĞµĞ½Ñ‹",T.Cyan,
            function() return Cfg.ESP.On end,
            function(v)
                Cfg.ESP.On=v
                if v then StartESP() else StopESP() end
            end,
            function(v) Notify("ğŸ‘ï¸ ESP",v and "Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½ Â· Rainbow" or "Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½",T.Cyan,2) end)
        Toggle("Ğ˜Ğ¼ĞµĞ½Ğ° ESP","ğŸ·ï¸","ĞŸĞ¾ĞºĞ°Ğ·Ñ‹Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ¸ĞºĞ¸ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ¾Ğ²",T.Acc,
            function() return Cfg.ESP.Names end,
            function(v) Cfg.ESP.Names=v end,
            function(v) Notify("ğŸ·ï¸ Ğ˜Ğ¼ĞµĞ½Ğ°",v and "ON" or "OFF",T.Acc,1.5) end)
        Toggle("Ğ”Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ ESP","ğŸ“","Ğ Ğ°ÑÑÑ‚Ğ¾ÑĞ½Ğ¸Ğµ Ğ´Ğ¾ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ°",T.Acc2,
            function() return Cfg.ESP.Dist end,
            function(v) Cfg.ESP.Dist=v end,
            function(v) Notify("ğŸ“ Dist",v and "ON" or "OFF",T.Acc2,1.5) end)
        Toggle("HP Bar ESP","â¤ï¸","ĞŸĞ¾Ğ»Ğ¾ÑĞºĞ° Ğ·Ğ´Ğ¾Ñ€Ğ¾Ğ²ÑŒÑ",T.Green,
            function() return Cfg.ESP.Health end,
            function(v) Cfg.ESP.Health=v end,
            function(v) Notify("â¤ï¸ HP",v and "ON" or "OFF",T.Green,1.5) end)
        Toggle("3D Box ESP","ğŸ“¦","SelectionBox Ğ²Ğ¾ĞºÑ€ÑƒĞ³ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ°",T.Yellow,
            function() return Cfg.ESP.Box end,
            function(v) Cfg.ESP.Box=v end,
            function(v) Notify("ğŸ“¦ Box",v and "ON" or "OFF",T.Yellow,1.5) end)
        Slider("ESP Ğ”Ğ°Ğ»ÑŒĞ½Ğ¾ÑÑ‚ÑŒ","ğŸ”­",T.Cyan,30,500,
            function() return Cfg.ESP.MaxDist end,
            function(v) Cfg.ESP.MaxDist=v end," st")

        -- â”€â”€â”€ Fullbright â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        Section("ğŸ’¡ Fullbright",T.Yellow)
        Toggle("Fullbright","ğŸ’¡","ĞœĞ°ĞºÑĞ¸Ğ¼Ğ°Ğ»ÑŒĞ½Ğ°Ñ ÑÑ€ĞºĞ¾ÑÑ‚ÑŒ ĞºĞ°Ñ€Ñ‚Ñ‹",T.Yellow,
            function() return Cfg.Fullbright.On end,
            function(v)
                Cfg.Fullbright.On=v
                if v then StartFullbright() else StopFullbright() end
            end,
            function(v) Notify("ğŸ’¡ Fullbright",v and "Ğ¯Ñ€ĞºĞ¾ÑÑ‚ÑŒ Ğ¼Ğ°ĞºÑĞ¸Ğ¼ÑƒĞ¼!" or "Ğ’Ğ¾ÑÑÑ‚Ğ°Ğ½Ğ¾Ğ²Ğ»ĞµĞ½Ğ¾",T.Yellow,2) end)

        -- â”€â”€â”€ Teleport to Player â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
        Section("ğŸš€ Teleport",T.Acc2)
        local tpInfo=Instance.new("Frame",Scroll)
        tpInfo.Size=UDim2.new(1,0,0,S(22))
        tpInfo.BackgroundTransparency=1
        local tpInfoL=Instance.new("TextLabel",tpInfo)
        tpInfoL.Size=UDim2.new(1,0,1,0)
        tpInfoL.BackgroundTransparency=1
        tpInfoL.Text="ĞĞ°Ğ¶Ğ¼Ğ¸ Ğ½Ğ° ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºÑƒ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ° â†’ Ñ‚ĞµĞ»ĞµĞ¿Ğ¾Ñ€Ñ‚Ğ°Ñ†Ğ¸Ñ"
        tpInfoL.TextColor3=T.Sub tpInfoL.Font=Enum.Font.Gotham tpInfoL.TextSize=S(9)
        tpInfoL.TextXAlignment=Enum.TextXAlignment.Left

        -- Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¸Ğ³Ñ€Ğ¾ĞºĞ¾Ğ² (Ğ´Ğ¸Ğ½Ğ°Ğ¼Ğ¸Ñ‡ĞµÑĞºĞ¸Ğ¹)
        local playerListFrame=Instance.new("Frame",Scroll)
        playerListFrame.Size=UDim2.new(1,0,0,S(10))
        playerListFrame.BackgroundTransparency=1
        playerListFrame.AutomaticSize=Enum.AutomaticSize.Y
        local pll=Instance.new("UIListLayout",playerListFrame)
        pll.Padding=UDim.new(0,S(5)) pll.SortOrder=Enum.SortOrder.LayoutOrder

        local function buildPlayerList()
            -- Ğ£Ğ´Ğ°Ğ»ÑĞµĞ¼ Ğ²ÑĞµ ÑÑ‚Ğ°Ñ€Ñ‹Ğµ ĞºĞ°Ñ€Ñ‚Ğ¾Ñ‡ĞºĞ¸
            for _,c in pairs(playerListFrame:GetChildren()) do
                if c:IsA("Frame") or c:IsA("TextButton") then c:Destroy() end
            end
            local plist=Players:GetPlayers()
            for _,p in ipairs(plist) do
                if p~=LP then
                    local pc=Instance.new("TextButton",playerListFrame)
                    pc.Size=UDim2.new(1,0,0,CARD_H)
                    pc.BackgroundColor3=T.Card pc.BorderSizePixel=0 pc.AutoButtonColor=false
                    pc.Text="" pc.Name="PlayerCard_"..p.Name
                    uiCorner(pc,S(14))
                    local pcStroke=uiStroke(pc,T.Border,1)

                    local ava=Instance.new("Frame",pc)
                    ava.Size=UDim2.new(0,S(36),0,S(36)) ava.Position=UDim2.new(0,S(10),0.5,-S(18))
                    ava.BackgroundColor3=T.Acc ava.BorderSizePixel=0 uiCorner(ava,S(12))
                    -- rainbow Ñ†Ğ²ĞµÑ‚ Ğ°Ğ²Ğ°Ñ‚Ğ°Ñ€Ğ° ÑƒĞ½Ğ¸ĞºĞ°Ğ»ĞµĞ½ Ğ¿Ğ¾ UserId
                    ava.BackgroundColor3=Color3.fromHSV((p.UserId%100)*0.01,0.7,0.9)
                    local avaL=Instance.new("TextLabel",ava)
                    avaL.Size=UDim2.new(1,0,1,0) avaL.BackgroundTransparency=1
                    avaL.Text=p.Name:sub(1,1):upper()
                    avaL.TextColor3=T.White avaL.Font=Enum.Font.GothamBold avaL.TextSize=S(16) avaL.ZIndex=2

                    local nameLL=Instance.new("TextLabel",pc)
                    nameLL.Size=UDim2.new(0,S(140),0,S(18)) nameLL.Position=UDim2.new(0,S(54),0,S(7))
                    nameLL.BackgroundTransparency=1 nameLL.Text=p.Name
                    nameLL.TextColor3=T.Text nameLL.Font=Enum.Font.GothamBold nameLL.TextSize=FONT_L
                    nameLL.TextXAlignment=Enum.TextXAlignment.Left nameLL.ClipsDescendants=true

                    local distLL=Instance.new("TextLabel",pc)
                    distLL.Size=UDim2.new(0,S(140),0,S(13)) distLL.Position=UDim2.new(0,S(54),0,S(27))
                    distLL.BackgroundTransparency=1 distLL.Text="ğŸ“ ..."
                    distLL.TextColor3=T.Sub distLL.Font=Enum.Font.Gotham distLL.TextSize=FONT_S
                    distLL.TextXAlignment=Enum.TextXAlignment.Left

                    local tpBtn=Instance.new("Frame",pc)
                    tpBtn.Size=UDim2.new(0,S(50),0,S(26)) tpBtn.Position=UDim2.new(1,-S(62),0.5,-S(13))
                    tpBtn.BackgroundColor3=T.Acc tpBtn.BorderSizePixel=0 uiCorner(tpBtn,S(10))
                    local tpBtnL=Instance.new("TextLabel",tpBtn)
                    tpBtnL.Size=UDim2.new(1,0,1,0) tpBtnL.BackgroundTransparency=1
                    tpBtnL.Text="ğŸš€ TP" tpBtnL.TextColor3=T.White
                    tpBtnL.Font=Enum.Font.GothamBold tpBtnL.TextSize=S(9)

                    -- ĞĞ±Ğ½Ğ¾Ğ²Ğ»ÑĞµĞ¼ Ğ´Ğ¸ÑÑ‚Ğ°Ğ½Ñ†Ğ¸Ñ
                    task.spawn(function()
                        while pc and pc.Parent do
                            local myR=Root()
                            local tr=p.Character and p.Character:FindFirstChild("HumanoidRootPart")
                            if myR and tr then
                                local d=math.floor((myR.Position-tr.Position).Magnitude)
                                distLL.Text="ğŸ“ "..d.." studs"
                                distLL.TextColor3=espDistColor(d)
                            else
                                distLL.Text="ğŸ“ Ğ¾Ñ„Ñ„Ğ»Ğ°Ğ¹Ğ½"
                                distLL.TextColor3=T.Sub
                            end
                            task.wait(0.5)
                        end
                    end)

                    local function doTP()
                        local tr=p.Character and p.Character:FindFirstChild("HumanoidRootPart")
                        local myR=Root()
                        if not (tr and myR) then Notify("ğŸš€ TP","Ğ˜Ğ³Ñ€Ğ¾Ğº Ğ½ĞµĞ´Ğ¾ÑÑ‚ÑƒĞ¿ĞµĞ½",T.Red,2) return end
                        pcall(function()
                            myR.CFrame=tr.CFrame*CFrame.new(0,0,-3)
                        end)
                        Notify("ğŸš€ TP","â†’ "..p.Name,T.Acc2,2)
                        Tw(pc,{BackgroundColor3=T.Acc},0.1)
                        task.delay(0.3,function() Tw(pc,{BackgroundColor3=T.Card},0.2) end)
                    end

                    pc.MouseButton1Click:Connect(doTP)
                    pc.TouchTap:Connect(doTP)
                    pc.InputBegan:Connect(function(i)
                        if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
                            Tw(pc,{BackgroundColor3=T.CardHov},0.06)
                            Tw(pcStroke,{Color=T.Acc},0.06)
                        end
                    end)
                    pc.InputEnded:Connect(function(i)
                        if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
                            Tw(pc,{BackgroundColor3=T.Card},0.15)
                            Tw(pcStroke,{Color=T.Border},0.15)
                        end
                    end)
                end
            end
            -- ĞŸÑƒÑÑ‚Ğ¾Ğ¹ ÑĞ¿Ğ¸ÑĞ¾Ğº
            local count=0
            for _,p in ipairs(plist) do if p~=LP then count=count+1 end end
            if count==0 then
                local emp=Instance.new("TextLabel",playerListFrame)
                emp.Size=UDim2.new(1,0,0,S(36)) emp.BackgroundTransparency=1
                emp.Text="ğŸ˜” ĞĞ° ÑĞµÑ€Ğ²ĞµÑ€Ğµ Ğ½ĞµÑ‚ Ğ´Ñ€ÑƒĞ³Ğ¸Ñ… Ğ¸Ğ³Ñ€Ğ¾ĞºĞ¾Ğ²"
                emp.TextColor3=T.Sub emp.Font=Enum.Font.Gotham emp.TextSize=S(10)
            end
        end

        buildPlayerList()
        ActionBtn("ĞĞ±Ğ½Ğ¾Ğ²Ğ¸Ñ‚ÑŒ ÑĞ¿Ğ¸ÑĞ¾Ğº","ğŸ”„",T.Acc,"ĞŸĞµÑ€ĞµĞ·Ğ°Ğ³Ñ€ÑƒĞ·Ğ¸Ñ‚ÑŒ Ğ¸Ğ³Ñ€Ğ¾ĞºĞ¾Ğ²",function()
            buildPlayerList()
            Notify("ğŸ”„ TP List","Ğ¡Ğ¿Ğ¸ÑĞ¾Ğº Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½",T.Acc,1.5)
        end)

    elseif name=="Server" then
        Section("Server Tools",T.Acc)
        ActionBtn("Rejoin","ğŸ”„",T.Acc,"ĞŸĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ¸Ñ‚ÑŒÑÑ",function()
            Notify("ğŸ”„ Rejoin","ĞŸĞµÑ€ĞµĞ¿Ğ¾Ğ´ĞºĞ»ÑÑ‡Ğ°ĞµĞ¼ÑÑ...",T.Acc,2)
            task.delay(1,function() pcall(function() TeleportService:Teleport(game.PlaceId,LP) end) end)
        end)
        ActionBtn("Server Hop","ğŸŒ",T.Acc2,"ĞĞ°Ğ¹Ñ‚Ğ¸ Ğ½Ğ¾Ğ²Ñ‹Ğ¹ ÑĞµÑ€Ğ²ĞµÑ€",function()
            Notify("ğŸŒ ServerHop","Ğ˜Ñ‰ĞµĞ¼ ÑĞµÑ€Ğ²ĞµÑ€...",T.Acc2,3)
            task.spawn(function()
                local ok2,servers=pcall(function() return HttpService:JSONDecode(game:HttpGet("https://games.roblox.com/v1/games/"..game.PlaceId.."/servers/Public?sortOrder=Desc&limit=100")) end)
                if ok2 and servers and servers.data then
                    for _,s in ipairs(servers.data) do
                        if s.id~=game.JobId and s.playing<s.maxPlayers then
                            Notify("ğŸŒ ĞŸÑ€Ñ‹Ğ³Ğ°ĞµĞ¼!","Ğ¡ĞµÑ€Ğ²ĞµÑ€ Ğ½Ğ°Ğ¹Ğ´ĞµĞ½",T.Acc2,2) task.wait(0.5)
                            pcall(function() TeleportService:TeleportToPlaceInstance(game.PlaceId,s.id,LP) end) return
                        end
                    end
                end
                Notify("ğŸŒ Fallback","ĞŸĞµÑ€ĞµĞ·Ğ°Ñ…Ğ¾Ğ´",T.Acc2,2) task.wait(0.5)
                pcall(function() TeleportService:Teleport(game.PlaceId,LP) end)
            end)
        end)
        Section("Lag",T.Red)
        Toggle("Server Lag","âš¡","Ğ¡Ğ¿Ğ°Ğ¼ RemoteEvents",T.Red,function() return Cfg.ServLag.On end,function(v) Cfg.ServLag.On=v end,function(v) Notify("âš¡ ServLag",v and "Ğ›ĞĞ“ĞĞ•Ğœ!" or "Ğ¡Ñ‚Ğ¾Ğ¿",T.Red,2) end)
        Slider("Lag Threads","ğŸ§µ",T.Red,10,200,function() return Cfg.ServLag.Threads end,function(v) Cfg.ServLag.Threads=v end," thr")

    elseif name=="Config" then
        Section("ğŸ’¾ Config",T.Yellow)
        local IC=Instance.new("Frame",Scroll) IC.Size=UDim2.new(1,0,0,S(68))
        IC.BackgroundColor3=T.Card IC.BorderSizePixel=0 uiCorner(IC,S(16))
        local icStroke2=uiStroke(IC,T.Yellow,1.4) addRainbow(icStroke2,0.8,0.6,0.7)
        local function cfgStatus()
            if _S.readfile then local ok2,raw=sCall(_S.readfile,CFG_FILE) if ok2 and raw and #raw>2 then return "âœ… ĞĞ°Ğ¹Ğ´ĞµĞ½ ("..#raw.." Ğ±Ğ°Ğ¹Ñ‚)" end end
            return _S.writefile and "âš ï¸ ĞĞµ ÑĞ¾Ğ·Ğ´Ğ°Ğ½" or "âŒ Ğ¤Ğ¡ Ğ½Ğµ Ğ¿Ğ¾Ğ´Ğ´ĞµÑ€Ğ¶Ğ¸Ğ²Ğ°ĞµÑ‚ÑÑ"
        end
        local FL=Instance.new("TextLabel",IC) FL.Text="ğŸ“‚ "..CFG_FILE FL.Size=UDim2.new(1,-S(18),0,S(20)) FL.Position=UDim2.new(0,S(12),0,S(6))
        FL.BackgroundTransparency=1 FL.TextColor3=T.Yellow FL.Font=Enum.Font.GothamBold FL.TextSize=S(11) FL.TextXAlignment=Enum.TextXAlignment.Left
        local SL=Instance.new("TextLabel",IC) SL.Text=cfgStatus() SL.Size=UDim2.new(1,-S(18),0,S(14)) SL.Position=UDim2.new(0,S(12),0,S(28))
        SL.BackgroundTransparency=1 SL.TextColor3=T.Sub SL.Font=Enum.Font.Gotham SL.TextSize=S(10) SL.TextXAlignment=Enum.TextXAlignment.Left
        local AL=Instance.new("TextLabel",IC) AL.Text="âš¡ ĞĞ²Ñ‚Ğ¾-ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ Ñ‡ĞµÑ€ĞµĞ· 1.5Ñ" AL.Size=UDim2.new(1,-S(18),0,S(13)) AL.Position=UDim2.new(0,S(12),0,S(46))
        AL.BackgroundTransparency=1 AL.TextColor3=T.Sub AL.Font=Enum.Font.Gotham AL.TextSize=S(9) AL.TextXAlignment=Enum.TextXAlignment.Left
        ActionBtn("Save Now","ğŸ’¾",T.Yellow,"ĞŸÑ€Ğ¸Ğ½ÑƒĞ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾Ğµ ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ",function() SaveCfg(Cfg) SL.Text=cfgStatus() Notify("ğŸ’¾ Ğ¡Ğ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¾","CFG Ğ¾Ğ±Ğ½Ğ¾Ğ²Ğ»Ñ‘Ğ½",T.Yellow,2) end)
        ActionBtn("Reset Defaults","ğŸ”„",T.Red,"Ğ¡Ğ±Ñ€Ğ¾Ñ Ğ²ÑĞµÑ… Ğ½Ğ°ÑÑ‚Ñ€Ğ¾ĞµĞº",function()
            Cfg=DeepCopy(DEFAULT) SaveCfg(Cfg) SL.Text=cfgStatus() if flyActive then StopFly() end Notify("ğŸ”„ Ğ¡Ğ±Ñ€Ğ¾Ñ","ĞŸĞ¾ ÑƒĞ¼Ğ¾Ğ»Ñ‡Ğ°Ğ½Ğ¸Ñ",T.Red,2)
        end)

        Section("ğŸ”— Share CFG",T.Acc2)
        local ExCard=Instance.new("Frame",Scroll) ExCard.Size=UDim2.new(1,0,0,S(110))
        ExCard.BackgroundColor3=T.Card ExCard.BorderSizePixel=0 uiCorner(ExCard,S(16))
        local exStk=uiStroke(ExCard,T.Acc2,1.4) addRainbow(exStk,0.85,0.1,0.72)
        local ExTitle=Instance.new("TextLabel",ExCard)
        ExTitle.Text="ğŸ“¤ Ğ¢Ğ²Ğ¾Ğ¹ ĞºĞ¾Ğ´" ExTitle.Size=UDim2.new(1,-S(20),0,S(18))
        ExTitle.Position=UDim2.new(0,S(12),0,S(8)) ExTitle.BackgroundTransparency=1
        ExTitle.TextColor3=T.Acc2 ExTitle.Font=Enum.Font.GothamBold ExTitle.TextSize=S(11) ExTitle.TextXAlignment=Enum.TextXAlignment.Left
        local ExBox=Instance.new("TextBox",ExCard)
        ExBox.Size=UDim2.new(1,-S(20),0,S(34)) ExBox.Position=UDim2.new(0,S(10),0,S(30))
        ExBox.BackgroundColor3=T.BG ExBox.BorderSizePixel=0 uiCorner(ExBox,S(10))
        uiStroke(ExBox,T.Border,1)
        ExBox.Text="ĞĞ°Ğ¶Ğ¼Ğ¸ â–¶ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ" ExBox.TextColor3=T.Sub ExBox.Font=Enum.Font.Code
        ExBox.TextSize=S(8) ExBox.ClearTextOnFocus=false ExBox.TextXAlignment=Enum.TextXAlignment.Left
        ExBox.TextEditable=false ExBox.ClipsDescendants=true uiPad(ExBox,S(8),S(8),0,0)
        local ExHint=Instance.new("TextLabel",ExCard)
        ExHint.Text="Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸ Ğ²ĞµÑÑŒ Ñ‚ĞµĞºÑÑ‚ Ğ¸ ÑĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹ (Ctrl+A â†’ Ctrl+C)"
        ExHint.Size=UDim2.new(1,-S(20),0,S(13)) ExHint.Position=UDim2.new(0,S(12),0,S(68))
        ExHint.BackgroundTransparency=1 ExHint.TextColor3=T.Sub ExHint.Font=Enum.Font.Gotham ExHint.TextSize=S(9) ExHint.TextXAlignment=Enum.TextXAlignment.Left
        local ExBtnW,ExBtnH=S(90),S(28)
        local GenBtn=Instance.new("TextButton",ExCard)
        GenBtn.Text="â–¶ Ğ¡Ğ¾Ğ·Ğ´Ğ°Ñ‚ÑŒ" GenBtn.Size=UDim2.new(0,ExBtnW,0,ExBtnH)
        GenBtn.Position=UDim2.new(1,-ExBtnW*2-S(18),0,S(30)+(S(34)-ExBtnH)/2)
        GenBtn.BackgroundColor3=T.Acc2 GenBtn.TextColor3=T.White GenBtn.Font=Enum.Font.GothamBold
        GenBtn.TextSize=S(9) GenBtn.BorderSizePixel=0 GenBtn.AutoButtonColor=false uiCorner(GenBtn,S(10)) GenBtn.ZIndex=5
        local CpBtn=Instance.new("TextButton",ExCard)
        CpBtn.Text="ğŸ“‹ ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ" CpBtn.Size=UDim2.new(0,ExBtnW,0,ExBtnH)
        CpBtn.Position=UDim2.new(1,-ExBtnW-S(10),0,S(30)+(S(34)-ExBtnH)/2)
        CpBtn.BackgroundColor3=T.Card CpBtn.TextColor3=T.Sub CpBtn.Font=Enum.Font.GothamBold
        CpBtn.TextSize=S(9) CpBtn.BorderSizePixel=0 CpBtn.AutoButtonColor=false uiCorner(CpBtn,S(10))
        uiStroke(CpBtn,T.Border,1) CpBtn.ZIndex=5 CpBtn.Visible=false
        ExBox.Size=UDim2.new(1,-ExBtnW*2-S(28),0,S(34)) ExBox.Position=UDim2.new(0,S(10),0,S(30))
        local _lastCode=""
        local function doGen()
            local code=GenShareCode()
            if not code then Notify("âŒ Share","ĞÑˆĞ¸Ğ±ĞºĞ° Ğ³ĞµĞ½ĞµÑ€Ğ°Ñ†Ğ¸Ğ¸",T.Red,2) return end
            _lastCode=code ExBox.Text=code ExBox.TextColor3=T.Text CpBtn.Visible=true
            Tw(GenBtn,{BackgroundColor3=T.Green},0.1) task.delay(0.4,function() Tw(GenBtn,{BackgroundColor3=T.Acc2},0.3) end)
            pcall(function() if setclipboard then setclipboard(code) end end)
            Notify("ğŸ”— Share Code","Ğ¡Ğ¾Ğ·Ğ´Ğ°Ğ½! Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€ÑƒĞ¹ Ğ¸Ğ· Ğ¿Ğ¾Ğ»Ñ",T.Acc2,3)
        end
        local function doCopy()
            if _lastCode=="" then doGen() return end
            pcall(function()
                if setclipboard then setclipboard(_lastCode)
                    CpBtn.Text="âœ… Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾!" Tw(CpBtn,{BackgroundColor3=T.Green},0.1)
                    task.delay(1.2,function() CpBtn.Text="ğŸ“‹ ĞšĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ" Tw(CpBtn,{BackgroundColor3=T.Card},0.3) end)
                    Notify("ğŸ“‹ Ğ¡ĞºĞ¾Ğ¿Ğ¸Ñ€Ğ¾Ğ²Ğ°Ğ½Ğ¾","Ğ’ÑÑ‚Ğ°Ğ²ÑŒ Ğ´Ñ€ÑƒĞ³Ñƒ Ğ² Ñ‡Ğ°Ñ‚ Ğ¸Ğ»Ğ¸ Ñ„Ğ°Ğ¹Ğ»",T.Green,2)
                else Notify("ğŸ“‹ Ğ’Ñ‹Ğ´ĞµĞ»Ğ¸ Ñ‚ĞµĞºÑÑ‚","Ctrl+A Ğ² Ğ¿Ğ¾Ğ»Ğµ, Ğ¿Ğ¾Ñ‚Ğ¾Ğ¼ Ctrl+C",T.Yellow,2) end
            end)
        end
        local function actBtn(b,fn) b.MouseButton1Click:Connect(fn) b.TouchTap:Connect(fn) end
        actBtn(GenBtn,doGen) actBtn(CpBtn,doCopy)

        local ImCard=Instance.new("Frame",Scroll) ImCard.Size=UDim2.new(1,0,0,S(110))
        ImCard.BackgroundColor3=T.Card ImCard.BorderSizePixel=0 uiCorner(ImCard,S(16))
        local imStk=uiStroke(ImCard,T.Green,1.4) addRainbow(imStk,0.85,0.35,0.72)
        local ImTitle=Instance.new("TextLabel",ImCard)
        ImTitle.Text="ğŸ“¥ Ğ’ÑÑ‚Ğ°Ğ²Ğ¸Ñ‚ÑŒ ĞºĞ¾Ğ´ Ğ´Ñ€ÑƒĞ³Ğ°" ImTitle.Size=UDim2.new(1,-S(20),0,S(18))
        ImTitle.Position=UDim2.new(0,S(12),0,S(8)) ImTitle.BackgroundTransparency=1
        ImTitle.TextColor3=T.Green ImTitle.Font=Enum.Font.GothamBold ImTitle.TextSize=S(11) ImTitle.TextXAlignment=Enum.TextXAlignment.Left
        local ImBox=Instance.new("TextBox",ImCard)
        ImBox.Size=UDim2.new(1,-S(20),0,S(34)) ImBox.Position=UDim2.new(0,S(10),0,S(30))
        ImBox.BackgroundColor3=T.BG ImBox.BorderSizePixel=0 uiCorner(ImBox,S(10))
        uiStroke(ImBox,T.Border,1) ImBox.PlaceholderText="Ğ’ÑÑ‚Ğ°Ğ²ÑŒ ÑÑĞ´Ğ° PELMEN1:..." ImBox.Text=""
        ImBox.TextColor3=T.Text ImBox.PlaceholderColor3=T.Sub ImBox.Font=Enum.Font.Code ImBox.TextSize=S(8)
        ImBox.ClearTextOnFocus=false ImBox.TextXAlignment=Enum.TextXAlignment.Left ImBox.ClipsDescendants=true uiPad(ImBox,S(8),S(8),0,0)
        local ImStatus=Instance.new("TextLabel",ImCard)
        ImStatus.Text="â¬†ï¸ Ğ’ÑÑ‚Ğ°Ğ²ÑŒ ĞºĞ¾Ğ´ Ğ¸ Ğ½Ğ°Ğ¶Ğ¼Ğ¸ ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ"
        ImStatus.Size=UDim2.new(1,-S(20),0,S(13)) ImStatus.Position=UDim2.new(0,S(12),0,S(68))
        ImStatus.BackgroundTransparency=1 ImStatus.TextColor3=T.Sub ImStatus.Font=Enum.Font.Gotham ImStatus.TextSize=S(9) ImStatus.TextXAlignment=Enum.TextXAlignment.Left
        local AppBtnW=S(100) local AppBtnH=S(28)
        local AppBtn=Instance.new("TextButton",ImCard)
        AppBtn.Text="âœ… ĞŸÑ€Ğ¸Ğ¼ĞµĞ½Ğ¸Ñ‚ÑŒ" AppBtn.Size=UDim2.new(0,AppBtnW,0,AppBtnH)
        AppBtn.Position=UDim2.new(1,-AppBtnW-S(10),0,S(30)+(S(34)-AppBtnH)/2)
        AppBtn.BackgroundColor3=T.Green AppBtn.TextColor3=T.White AppBtn.Font=Enum.Font.GothamBold
        AppBtn.TextSize=S(9) AppBtn.BorderSizePixel=0 AppBtn.AutoButtonColor=false uiCorner(AppBtn,S(10)) AppBtn.ZIndex=5
        ImBox.Size=UDim2.new(1,-AppBtnW-S(20),0,S(34))
        local function doImport()
            local code=ImBox.Text
            if not code or #code<10 then ImStatus.Text="âŒ ĞšĞ¾Ğ´ ÑĞ»Ğ¸ÑˆĞºĞ¾Ğ¼ ĞºĞ¾Ñ€Ğ¾Ñ‚ĞºĞ¸Ğ¹" ImStatus.TextColor3=T.Red Notify("âŒ Import","Ğ’ÑÑ‚Ğ°Ğ²ÑŒ ĞºĞ¾Ğ´!",T.Red,2) return end
            local ok,msg=ImportShareCode(code)
            if ok then
                ImStatus.Text="âœ… ĞšĞ¤Ğ“ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½Ñ‘Ğ½!" ImStatus.TextColor3=T.Green
                Tw(AppBtn,{BackgroundColor3=T.Acc},0.1) task.delay(0.5,function() Tw(AppBtn,{BackgroundColor3=T.Green},0.3) end)
                Notify("âœ… CFG Import","ĞĞ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ğ¿Ñ€Ğ¸Ğ¼ĞµĞ½ĞµĞ½Ñ‹!",T.Green,3)
                local h=Hum()
                if h then
                    if Cfg.Speed.On then pcall(function() h.WalkSpeed=Cfg.Speed.Value end) end
                    if Cfg.InfJump.On then pcall(function() h.JumpPower=Cfg.InfJump.Power end) end
                end
            else
                ImStatus.Text="âŒ "..tostring(msg) ImStatus.TextColor3=T.Red
                Notify("âŒ Import","ĞÑˆĞ¸Ğ±ĞºĞ°: "..tostring(msg),T.Red,3)
            end
        end
        actBtn(AppBtn,doImport)
        ImBox.FocusLost:Connect(function(enter) if enter then doImport() end end)

        Section("Ğ­ĞºÑ€Ğ°Ğ½",T.Acc)
        local SIC=Instance.new("Frame",Scroll) SIC.Size=UDim2.new(1,0,0,S(48))
        SIC.BackgroundColor3=T.Card SIC.BorderSizePixel=0 uiCorner(SIC,S(16))
        local sicStroke=uiStroke(SIC,T.Acc,1.4) addRainbow(sicStroke,1.0,0.0,0.72)
        local vx,vy=GetVP()
        local function scaleVal() local sx=math.clamp(vx/1280,0.45,2.0) local sy=math.clamp(vy/720,0.45,2.0) return math.min(sx,sy) end
        local SIL=Instance.new("TextLabel",SIC)
        SIL.Text=string.format("ğŸ“ %dx%d  Â·  Scale %.2f  Â·  %s",math.floor(vx),math.floor(vy),scaleVal(),IsMobile and "Mobile" or "PC")
        SIL.Size=UDim2.new(1,-S(18),0,S(18)) SIL.Position=UDim2.new(0,S(12),0,S(8))
        SIL.BackgroundTransparency=1 SIL.TextColor3=T.Acc SIL.Font=Enum.Font.GothamBold SIL.TextSize=S(11) SIL.TextXAlignment=Enum.TextXAlignment.Left
        local SIL2=Instance.new("TextLabel",SIC) SIL2.Text="v2.1 Â· Spider v1(15L) Â· ESP Â· Fullbright Â· TP Â· Search"
        SIL2.Size=UDim2.new(1,-S(18),0,S(13)) SIL2.Position=UDim2.new(0,S(12),0,S(28))
        SIL2.BackgroundTransparency=1 SIL2.TextColor3=T.Sub SIL2.Font=Enum.Font.Gotham SIL2.TextSize=S(9) SIL2.TextXAlignment=Enum.TextXAlignment.Left
    end
end

SwitchTab("Combat")
for _,tab in ipairs(TABS) do
    TabBtns[tab.name].MouseButton1Click:Connect(function() SwitchTab(tab.name) end)
    TabBtns[tab.name].TouchTap:Connect(function() SwitchTab(tab.name) end)
end

-- â”€â”€ Minimize â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local minimized=false
MinBtn.MouseButton1Click:Connect(function()
    minimized=not minimized
    local newSz=minimized and UDim2.new(0,WIN_W,0,S(60)) or UDim2.new(0,WIN_W,0,WIN_H)
    Tw(Win,{Size=newSz},0.32,Enum.EasingStyle.Back)
    Tw(WinClip,{Size=newSz},0.32,Enum.EasingStyle.Back)
    TabBar.Visible=not minimized Scroll.Visible=not minimized SearchBar.Visible=not minimized
    MinBtn.Text=minimized and "+" or "âˆ’"
end)

-- â”€â”€ Drag â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local dragStart,winStart
Head.InputBegan:Connect(function(i)
    if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then
        dragStart=i.Position winStart=Win.Position
    end
end)
UIS.InputChanged:Connect(function(i)
    if dragStart and (i.UserInputType==Enum.UserInputType.MouseMovement or i.UserInputType==Enum.UserInputType.Touch) then
        local d=i.Position-dragStart
        Win.Position=UDim2.new(winStart.X.Scale,winStart.X.Offset+d.X,winStart.Y.Scale,winStart.Y.Offset+d.Y)
    end
end)
UIS.InputEnded:Connect(function(i)
    if i.UserInputType==Enum.UserInputType.MouseButton1 or i.UserInputType==Enum.UserInputType.Touch then dragStart=nil end
end)

-- â”€â”€ Mobile bottom bar â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if IsMobile then
    local vx,_=GetVP()
    local BAR_W=math.min(S(360),vx-S(16))
    local BBar=Instance.new("Frame",GUI)
    BBar.Size=UDim2.new(0,BAR_W,0,S(58)) BBar.Position=UDim2.new(0.5,-BAR_W/2,1,-S(76))
    BBar.BackgroundColor3=T.Panel BBar.BorderSizePixel=0 uiCorner(BBar,S(22))
    local bbStroke=uiStroke(BBar,T.Acc,1.6) addRainbow(bbStroke,1.0,0,0.75)
    local BBL=Instance.new("UIListLayout",BBar)
    BBL.FillDirection=Enum.FillDirection.Horizontal BBL.HorizontalAlignment=Enum.HorizontalAlignment.Center
    BBL.VerticalAlignment=Enum.VerticalAlignment.Center BBL.Padding=UDim.new(0,S(4))
    uiPad(BBar,S(5),S(5),S(8),S(8))
    local BTN_W=math.floor((BAR_W-S(50))/7)
    local function MobBtn(txt,cb)
        local B=Instance.new("TextButton",BBar) B.Size=UDim2.new(0,BTN_W,0,S(42))
        B.BackgroundColor3=T.Card B.Text=txt B.TextSize=S(9) B.Font=Enum.Font.GothamBold
        B.TextColor3=T.White B.BorderSizePixel=0 B.AutoButtonColor=false uiCorner(B,S(14))
        local bs=uiStroke(B,T.Acc,1) addRainbow(bs,0.9,math.random()*0.5,0.65)
        local function act()
            Tw(B,{BackgroundColor3=T.Acc},0.08)
            task.delay(0.18,function() Tw(B,{BackgroundColor3=T.Card},0.18) end) pcall(cb)
        end
        B.TouchTap:Connect(act) B.MouseButton1Click:Connect(act) return B
    end
    MobBtn("âœˆï¸Fly",function() if not flyActive then StartFly() else StopFly() end Notify("âœˆï¸",flyActive and "ON" or "OFF",T.Acc,1.5) end)
    MobBtn("ğŸ’¨Spd",function() Cfg.Speed.On=not Cfg.Speed.On ScheduleSave() local h=Hum() if h then h.WalkSpeed=Cfg.Speed.On and Cfg.Speed.Value or 16 end Notify("ğŸ’¨",Cfg.Speed.On and "ON" or "OFF",T.Acc,1.5) end)
    MobBtn("ğŸš€Jmp",function() Cfg.InfJump.On=not Cfg.InfJump.On ScheduleSave() Notify("ğŸš€",Cfg.InfJump.On and "ON" or "OFF",T.Acc2,1.5) end)
    MobBtn("ğŸ‘ï¸ESP",function() Cfg.ESP.On=not Cfg.ESP.On ScheduleSave() if Cfg.ESP.On then StartESP() else StopESP() end Notify("ğŸ‘ï¸ ESP",Cfg.ESP.On and "ON" or "OFF",T.Cyan,1.5) end)
    MobBtn("ğŸ’¡FB",function() Cfg.Fullbright.On=not Cfg.Fullbright.On ScheduleSave() if Cfg.Fullbright.On then StartFullbright() else StopFullbright() end Notify("ğŸ’¡",Cfg.Fullbright.On and "ON" or "OFF",T.Yellow,1.5) end)
    MobBtn("ğŸ’¥Flg",function()
        if not Cfg.Fling.On then Notify("ğŸ’¥","Ğ’ĞºĞ»ÑÑ‡Ğ¸ Ğ² Combat!",T.Red,2) return end
        local root=Root() if not root then return end
        local near,best=nil,math.huge
        for _,p in pairs(Players:GetPlayers()) do if p~=LP and p.Character then
            local pr=p.Character:FindFirstChild("HumanoidRootPart") if pr then
                local dd=(root.Position-pr.Position).Magnitude if dd<best and dd<Cfg.Fling.Range then best=dd near=pr end
            end
        end end
        if near then local dir=(near.Position-root.Position).Unit pcall(function() near.Velocity=dir*Cfg.Fling.Power+Vector3.new(math.random(-50,50),Cfg.Fling.Power*0.6,math.random(-50,50)) end) end
    end)
    MobBtn("ğŸŒHop",function() Notify("ğŸŒ","ĞŸĞµÑ€ĞµÑ…Ğ¾Ğ´...",T.Acc2,2) task.delay(1,function() pcall(function() TeleportService:Teleport(game.PlaceId,LP) end) end) end)
end

-- â”€â”€ Key binds â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
UIS.InputBegan:Connect(function(input,gpe)
    if gpe then return end
    if input.KeyCode==Enum.KeyCode.F then
        if not flyActive then StartFly() else StopFly() end
        Notify("âœˆï¸ Fly",flyActive and "Ğ’ĞºĞ»ÑÑ‡Ñ‘Ğ½!" or "Ğ’Ñ‹ĞºĞ»ÑÑ‡ĞµĞ½",T.Acc,2)
    end
    if input.KeyCode==Enum.KeyCode.G and Cfg.Fling.On then
        local root=Root() if not root then return end
        local near,best=nil,math.huge
        for _,p in pairs(Players:GetPlayers()) do if p~=LP and p.Character then
            local pr=p.Character:FindFirstChild("HumanoidRootPart") if pr then
                local dd=(root.Position-pr.Position).Magnitude if dd<best and dd<Cfg.Fling.Range then best=dd near=pr end
            end
        end end
        if near then
            local dir=(near.Position-root.Position).Unit
            pcall(function() near.Velocity=dir*Cfg.Fling.Power+Vector3.new(math.random(-60,60),Cfg.Fling.Power*0.65,math.random(-60,60)) end)
            Notify("ğŸ’¥ Fling!",near.Parent.Name,T.Red,1.5)
        end
    end
    -- H â€” Ğ±Ñ‹ÑÑ‚Ñ€Ñ‹Ğ¹ Ñ‚Ğ¾Ğ³Ğ» ESP
    if input.KeyCode==Enum.KeyCode.H then
        Cfg.ESP.On=not Cfg.ESP.On ScheduleSave()
        if Cfg.ESP.On then StartESP() else StopESP() end
        Notify("ğŸ‘ï¸ ESP",Cfg.ESP.On and "ON" or "OFF",T.Cyan,2)
    end
end)

-- â”€â”€ On respawn â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local function ApplyAll(char,isRespawn)
    task.wait(0.7)
    local h=char and char:FindFirstChildOfClass("Humanoid") if not h then return end
    if Cfg.Speed.On   then pcall(function() h.WalkSpeed=Cfg.Speed.Value end) end
    if Cfg.InfJump.On then pcall(function() h.JumpPower=Cfg.InfJump.Power end) end
    if Cfg.AntiRag.On then
        for _,v in pairs(char:GetDescendants()) do
            if v:IsA("BallSocketConstraint") or v:IsA("HingeConstraint") then pcall(function() v.Enabled=false end) end
        end
    end
    if Cfg.Spider.On then StartSpider(h) end
    if Cfg.AntiLag.On then StartAntiLag() end
    if Cfg.ESP.On     then task.delay(0.3,function() if Cfg.ESP.On then StartESP() end end) end
    if flyActive      then StopFly() end
    if isRespawn then
        local feats={}
        if Cfg.Speed.On      then table.insert(feats,"ğŸ’¨"..Cfg.Speed.Value) end
        if Cfg.InfJump.On    then table.insert(feats,"ğŸš€") end
        if Cfg.AntiRag.On    then table.insert(feats,"ğŸ›¡ï¸") end
        if Cfg.Spider.On     then table.insert(feats,"ğŸ•·ï¸") end
        if Cfg.AntiLag.On    then table.insert(feats,"ğŸ§¹") end
        if Cfg.FastCollect.On then table.insert(feats,"ğŸŒ¿") end
        if Cfg.ESP.On        then table.insert(feats,"ğŸ‘ï¸") end
        if Cfg.Fullbright.On then table.insert(feats,"ğŸ’¡") end
        if #feats>0 then Notify("ğŸ”„ Reload",table.concat(feats," "),T.Acc,3) end
    end
end

LP.CharacterAdded:Connect(function(char) StopSpider() ApplyAll(char,true) end)
if LP.Character then ApplyAll(LP.Character,false) end

-- â”€â”€ Heartbeat â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
RunService.Heartbeat:Connect(function()
    -- ĞĞ²Ñ‚Ğ¾ÑĞ¾Ñ…Ñ€Ğ°Ğ½ĞµĞ½Ğ¸Ğµ
    if _saveT>0 and tick()-_saveT>1.5 then _saveT=0 SaveCfg(Cfg) end

    -- Speed force
    if Cfg.Speed.On then
        local h=Hum() if h and h.WalkSpeed~=Cfg.Speed.Value then pcall(function() h.WalkSpeed=Cfg.Speed.Value end) end
    end

    -- Anti Ragdoll
    if Cfg.AntiRag.On then
        local c=Char() if c then
            for _,v in pairs(c:GetDescendants()) do
                if v:IsA("BallSocketConstraint") or v:IsA("HingeConstraint") then pcall(function() v.Enabled=false end) end
            end
        end
    end

    -- ESP update
    if Cfg.ESP.On then UpdateESP() end
end)

-- â”€â”€ InfJump â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
UIS.JumpRequest:Connect(function()
    if not Cfg.InfJump.On then return end
    local h=Hum() if not h then return end
    pcall(function() h:ChangeState(Enum.HumanoidStateType.Jumping) end)
    local root=Root() if root then
        local bv=Instance.new("BodyVelocity") bv.Velocity=Vector3.new(root.Velocity.X,Cfg.InfJump.Power,root.Velocity.Z)
        bv.MaxForce=Vector3.new(0,4e5,0) bv.P=1e5 bv.Parent=root Debris:AddItem(bv,0.12)
    end
end)

-- â”€â”€ ShiftLock â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
RunService.RenderStepped:Connect(function()
    local char=Char() if not char then return end
    local root=char:FindFirstChild("HumanoidRootPart")
    local h=char:FindFirstChildOfClass("Humanoid")
    if not (root and h) then return end
    if Cfg.ShiftLock.On then
        UIS.MouseBehavior=Enum.MouseBehavior.LockCenter
        local lv=Camera.CFrame.LookVector
        local xz=Vector3.new(lv.X,0,lv.Z)
        if xz.Magnitude>0.01 then
            pcall(function() root.CFrame=root.CFrame:Lerp(CFrame.new(root.CFrame.Position,root.CFrame.Position+xz),0.6) end)
        end
        h.CameraOffset=h.CameraOffset:Lerp(Vector3.new(1.75,0,0),0.2)
    else
        if UIS.MouseBehavior==Enum.MouseBehavior.LockCenter then UIS.MouseBehavior=Enum.MouseBehavior.Default end
        h.CameraOffset=h.CameraOffset:Lerp(Vector3.new(0,0,0),0.2)
    end
end)

-- â”€â”€ Auto Spam â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local lastSpam=0
RunService.Heartbeat:Connect(function()
    if not Cfg.Spam.On then return end
    if tick()-lastSpam<Cfg.Spam.Delay/100 then return end
    lastSpam=tick()
    local char=Char() if not char then return end
    local tool=char:FindFirstChildOfClass("Tool")
    if tool then
        for _,v in pairs(tool:GetDescendants()) do
            if v:IsA("RemoteEvent") then pcall(function() v:FireServer(Mouse.Hit) end) end
        end
    end
    if _S.mouse1click then pcall(_S.mouse1click) end
end)

-- â”€â”€ Server Lag â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
local lagRunning=false
RunService.Heartbeat:Connect(function()
    if not Cfg.ServLag.On then lagRunning=false return end
    if lagRunning then return end lagRunning=true
    task.spawn(function()
        while Cfg.ServLag.On do
            for _=1,Cfg.ServLag.Threads do task.spawn(function()
                for _,v in pairs(game:GetDescendants()) do
                    if v:IsA("RemoteEvent") and Cfg.ServLag.On then pcall(function() v:FireServer() end) end
                end
            end) end task.wait(0.05)
        end lagRunning=false
    end)
end)

-- â”€â”€ FastCollect â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
RunService.Heartbeat:Connect(function()
    if not Cfg.FastCollect.On then return end
    local char=Char() if not char then return end
    for _,v in pairs(workspace:GetDescendants()) do
        pcall(function()
            if v:IsA("ProximityPrompt") and v.ActionText~="" then
                sCall(_S.fireprox,v)
            elseif v:IsA("ClickDetector") then
                sCall(_S.fireclick,v)
            end
        end)
    end
    if _S.keypress then sCall(_S.keypress,Enum.KeyCode.E) end
end)

-- â”€â”€ Rainbow render â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
RunService.Heartbeat:Connect(function()
    local t=tick()
    for _,item in ipairs(_rainbow) do
        if item.stroke then
            pcall(function()
                if item.stroke and item.stroke.Parent then
                    item.stroke.Color=rainbowColor(t,item.shift or 0,item.sat or 0.72,0.95)
                end
            end)
        elseif item.grad then
            pcall(function()
                if item.grad and item.grad.Parent then
                    local s=item.shift or 0
                    local sp2=item.speed or 1
                    local function bw(off) local vv=0.5+0.5*math.sin(t*sp2*1.4+(s+off)*6.2832) return Color3.new(0.15+(0.8*vv),0.15+(0.8*vv),0.15+(0.8*vv)) end
                    item.grad.Color=ColorSequence.new{
                        ColorSequenceKeypoint.new(0,   bw(0)),
                        ColorSequenceKeypoint.new(0.5, bw(0.18)),
                        ColorSequenceKeypoint.new(1,   bw(0.36)),
                    }
                end
            end)
        end
    end
end)

-- â”€â”€ Startup notifications â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
task.delay(3.2,function()
    Notify("ğŸ¥Ÿ Pelmen PVP","v2.1 Â· "..(IsMobile and "ğŸ“±" or "ğŸ–¥ï¸").." Â· ğŸ•·ï¸Spider v1.3 Â· ğŸ‘ï¸ESP Â· ğŸ’¡FB Â· ğŸš€TP Â· ğŸ”Search",T.Acc,5)
end)
task.delay(4.8,function()
    local on={}
    if Cfg.Speed.On      then table.insert(on,"ğŸ’¨"..Cfg.Speed.Value) end
    if Cfg.InfJump.On    then table.insert(on,"ğŸš€") end
    if Cfg.FastCollect.On then table.insert(on,"ğŸŒ¿") end
    if Cfg.Spam.On       then table.insert(on,"âš¡") end
    if Cfg.AntiRag.On    then table.insert(on,"ğŸ›¡ï¸") end
    if Cfg.Spider.On     then table.insert(on,"ğŸ•·ï¸") end

    if Cfg.AntiLag.On    then table.insert(on,"ğŸ§¹") end
    if Cfg.ESP.On        then table.insert(on,"ğŸ‘ï¸") end
    if Cfg.Fullbright.On then table.insert(on,"ğŸ’¡") end
    if #on>0 then Notify("ğŸ“‚ CFG",table.concat(on," "),T.Yellow,5) end
end)

print("â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—")
print("â•‘  ğŸ¥Ÿ PELMEN PVP  v2.3  Spider v1.3 LLM Engine Â· Rainbow  â•‘")
print("â•‘  ğŸ•·ï¸ SPIDER v1.3 LLM Engine Â· TOP-1      â•‘")
print("â•‘  ğŸ‘ï¸ ESP Rainbow  ğŸ’¡ Fullbright  ğŸš€ TP       â•‘")
print("â•‘  ğŸ” Search  H=ESP toggle  F=Fly  G=Fling   â•‘")
print("â•‘  Scale: "..string.format("%.2f",math.min(math.clamp(SW/1280,0.45,2.0),math.clamp(SH/720,0.45,2.0))).."  |  "..math.floor(SW).."x"..math.floor(SH).."  |  "..(IsMobile and "Mobile" or "PC   ").."    â•‘")
print("â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•")
